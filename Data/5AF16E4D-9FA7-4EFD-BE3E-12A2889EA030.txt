 1 
ï¨ˆæ”¿é™¢åœ‹å®¶ç§‘å­¸å§”å“¡æœƒå°ˆé¡Œç ”ç©¶è¨ˆç•« æˆæœå ±å‘Š 
 
è™›æ“¬ç¶²è·¯åŠå¯¦é«”ç¶²è·¯æ˜ å°„çš„ç ”ç©¶ 
ç ”ç©¶æˆæœå ±å‘Š(ï¨ç°¡ç‰ˆ) 
 
è¨ˆ ç•« ï§åˆ¥ï¼š å€‹åˆ¥å‹ 
è¨ˆç•«ç·¨è™Ÿï¼š NSC100-2221-E-130-013- 
åŸ·ï¨ˆæœŸé–“ï¼š 100 ï¦08 æœˆ01 æ—¥è‡³101 ï¦7 æœˆ31 æ—¥ 
åŸ·ï¨ˆå–®ä½ï¼š éŠ˜å‚³å¤§å­¸è³‡è¨Šå·¥ç¨‹å­¸ç³»ï¼ˆæ‰€ï¼‰ 
è¨ˆç•«ä¸»æŒäººï¼š å¾æ­¦å­ 
è¨ˆç•«ï¥«èˆ‡äººå“¡ï¼š ç¢©å£«ç­ç ”ç©¶ç”Ÿ-å…¼ä»»åŠ©ï§¤äººå“¡ï¼šè¨±æ™ºå‡± 
ç¢©å£«ç­ç ”ç©¶ç”Ÿ-å…¼ä»»åŠ©ï§¤äººå“¡ï¼šæœ±æ”¿è±ª 
ç¢©å£«ç­ç ”ç©¶ç”Ÿ-å…¼ä»»åŠ©ï§¤äººå“¡ï¼šè˜‡é–å©· 
ç¢©å£«ç­ç ”ç©¶ç”Ÿ-å…¼ä»»åŠ©ï§¤äººå“¡ï¼šæ—å­£è¬™ 
å ±å‘Šé™„ä»¶ï¼š å‡ºå¸­åœ‹éš›æœƒè­°å¿ƒå¾—å ±å‘ŠåŠç™¼è¡¨ï¥æ–‡ 
è™•ï§¤æ–¹å¼ï¼š æœ¬è¨ˆç•«å¯å…¬é–‹æŸ¥è©¢ 
ä¸­ è¯ æ°‘ åœ‹ 101 ï¦ 10 æœˆ 20 æ—¥ 
 3 
ä¸€ã€è¨ˆç•«æ‘˜è¦ 
A. ä¸­æ–‡æ‘˜è¦ 
ç¶²è·¯è™›æ“¬åŒ–æœ€é‡è¦çš„ç ”ç©¶ç‚ºå¦‚ä½•å°‡è™›æ“¬ç¶²è·¯æˆåŠŸçš„æ˜ å°„åˆ°å¯¦é«”ç¶²è·¯ï¼Œä»¥è®“æ¥­è€…æœ‰æ›´å¤šçš„æ”¶å…¥ã€‚ä½†æ˜¯
å¦‚ä½•æˆåŠŸçš„æ˜ å°„æ˜¯ä¸€å€‹ NP-hard çš„å•é¡Œï¼Œå°æ¥­è€…æ˜¯ä¸€å€‹æŒ‘æˆ°ã€‚æœ¬è¨ˆç•«ä¸»è¦ç ”ç©¶ç‚ºå¦‚ä½•å°‡è™›æ“¬ç¶²è·¯æœ‰æ•ˆ
ç‡çš„æ˜ å°„è‡³å¯¦é«”ç¶²è·¯ã€‚æœ¬è¨ˆç•«æ‰€ææ¼”ç®—æ³•åˆ†ç‚ºå…©å€‹éƒ¨åˆ†ï¼šç¯€é»æ˜ å°„åŠé€£çµæ˜ å°„ã€‚ç¯€é»æ˜ å°„æ¼”ç®—æ³•é¸ä¸€
å€‹å¯¦é«”ç¯€é»åŒæ™‚æ»¿è¶³è™›æ“¬ç¯€é»çš„è³‡æºéœ€æ±‚åŠé »å¯¬éœ€æ±‚ã€‚é€£çµæ˜ å°„åˆåˆ†ç‚ºå…©ç¨®ï¼šä¸€ç‚ºå–®æ¢è·¯å¾‘çš„æ˜ å°„ï¼Œ
äºŒç‚ºå¤šæ¢è·¯å¾‘çš„æ˜ å°„ã€‚å–®æ¢è·¯å¾‘æ˜ å°„æ¼”ç®—æ³•å°‡ä¸€æ¢è™›æ“¬é€£çµå°æ‡‰åˆ°æœ€çŸ­çš„ä¸€æ¢é€£çµæˆ–è·¯å¾‘ï¼Œå¤šæ¢è·¯å¾‘
æ˜ å°„æ¼”ç®—æ³•ä½¿ç”¨ cut-shortest path å°‡ä¸€æ¢è™›æ“¬é€£çµå°æ‡‰åˆ°å¯¦é«”ç¶²è·¯ä¸­çš„å¤šæ¢é€£çµæˆ–è·¯å¾‘ã€‚æ¨¡æ“¬çš„çµæœé¡¯
ç¤ºæœ¬è¨ˆç•«æ‰€æçš„æ¼”ç®—æ³•æ¯”ç¾æœ‰çš„æ¼”ç®—æ³•æ›´å¯ä»¥æœ‰æ•ˆç‡çš„ä½¿ç”¨å¯¦é«”ç¶²è·¯è³‡æºï¼Œä½¿æ¥­è€…ç”¢ç”Ÿæ›´å¤šçš„æ”¶å…¥ã€‚ 
é—œéµè©ï¼šç¶²è·¯è™›æ“¬åŒ–ï¼Œç¯€é»æ˜ å°„ï¼Œé€£çµæ˜ å°„ï¼Œcut-shortest pathã€‚ 
B. è‹±æ–‡æ‘˜è¦ 
Network virtualization has received considerable attention recently because it can support multiple 
coexisting virtual network (VN) requests over a shared substrate network. However, mapping multiple VN 
requests with constraints on virtual nodes and virtual links into a shared substrate network presents a 
significant challenge, and is considered an NP-hard problem. In this paper, we propose a heuristic mapping 
algorithm that handles online VN requests. The node mapping algorithm selects a substrate node for mapping 
that satisfies both a virtual nodeâ€™s resource requirement and amount of requested bandwidth. The link 
mapping algorithm finds the shortest path to map the corresponding virtual link and uses the cut-shortest path 
approach to map a virtual link to multiple substrate paths. The path migration algorithm migrates virtual links 
to different substrate paths in order to maximize the number of accepted VN requests in a substrate network. 
Simulation results show that the proposed mapping algorithm makes more efficient use of resources, produces 
more revenue and results in better performance than existing mapping approaches do. 
Keywordsï¼šVN, Node mapping, Link mapping, Path migration.  
 
 
  
 5 
A. ç¯€é»(Node)èˆ‡é€£çµ(Link)çš„é™åˆ¶ (Constraint) 
ç•¶å®¢æˆ¶å‘ SP ç§Ÿç”¨ VN æ™‚ï¼ŒSP å¿…é ˆè¦è€ƒé‡å…¶æ‰€æä¾›çš„æ¯ä¸€å€‹ VN æ˜¯å¦æ»¿è¶³å®¢æˆ¶çš„è³‡æºéœ€æ±‚ã€‚ä¾‹å¦‚ç•¶
å®¢æˆ¶éœ€è¦ç§Ÿä¸€å€‹VNå…¶é »å¯¬è‡³å°‘è¦æœ‰ 2 Mbpsï¼ŒCPUè‡³å°‘è¦æœ‰ 1GHzä¸” propagation delayä¸å¾—å¤§æ–¼ 50msï¼›
æ­¤æ™‚ SP å°±å¿…é ˆçŸ¥é“å®ƒæ‰€æä¾›çš„ VN èƒ½å¦æ»¿è¶³å®¢æˆ¶çš„è³‡æºéœ€æ±‚ã€‚ç”±æ–¼ SP å¿…é ˆè€ƒé‡ VN çš„ç¯€é»èˆ‡é€£çµçš„
é™åˆ¶ï¼Œæ›´åŠ æ·±äº†è¨­è¨ˆæ˜ å°„æ¼”ç®—æ³•çš„è¤‡é›œåº¦ã€‚ 
ï¼¢. æº–äºˆæ§åˆ¶(Admission control) 
ç”±æ–¼ä¸€å€‹å¯¦é«”ç¶²è·¯çš„è³‡æºæœ‰é™ï¼Œç•¶å®¢æˆ¶å‘ SP ç§Ÿç”¨ VNï¼Œä½† SP ç„¡æ³•æä¾›æ»¿è¶³å®¢æˆ¶çš„ VN æ™‚ï¼Œæ­¤æ™‚å¯¦
é«”ç¶²è·¯å¿…é ˆæ‹’çµ•(Reject)æ­¤å®¢æˆ¶çš„è¦æ±‚ï¼Œä»¥å…å½±éŸ¿å…¶å®ƒ VN çš„é‹ä½œã€‚åä¹‹ç•¶ SP ä¸€æ—¦æ¥å—äº†å®¢æˆ¶çš„éœ€æ±‚ï¼Œ
å°±å¿…é ˆå°å…¶æœå‹™å“è³ªåšä¿éšœã€‚ 
C. å³æ™‚åŠ å…¥éœ€æ±‚ 
ä¸€å€‹å®¢æˆ¶å¯æœƒè‡¨æ™‚å‘ SP ç§Ÿç”¨ VN ä¸¦ä¸”ç§Ÿç”¨ä¸€æ®µçš„æ™‚é–“ã€‚ä¾‹å¦‚æ­¤å®¢æˆ¶å¯èƒ½è‡¨æ™‚éœ€è¦æ¸¬è©¦ä¸€é …æ–°æœå‹™
(New service)ï¼Œå› æ­¤æ˜ å°„æ¼”ç®—æ³•å¿…é ˆè€ƒé‡æ­¤ç¨®è‡¨æ™‚çš„ç‹€æ³ã€‚ç•¶ç„¶ï¼Œå³æ™‚åŠ å…¥éœ€æ±‚æœå‹™æ˜¯å¾ˆé›£çš„å•é¡Œã€‚é™¤
æ­¤ä¹‹å¤–ï¼Œæ–‡ç» [2]ä¹Ÿæå‡ºä¸€å€‹ç°¡å–®çš„æ˜ å°„æ¼”ç®—æ³•ï¼Œé€£çµ(Link)æ˜ å°„ï¼Œè·¯å¾‘çš„åˆ†æµ (Path splitting)åŠè·¯å¾‘ç§» 
(Path Migration)ä½†ä¸¦æ²’æœ‰è©³ç´°çš„èªªæ˜æ¼”ç®—æ³•çš„å…§å®¹ã€‚ 
2.3.3 æ–‡ç»[3] 
æœ¬æ–‡ç»ä½¿ç”¨äº† Hub-and-spoke çš„æ–¹æ³•ä¾†å°‡ VN å…§çš„è™›æ“¬é€£çµåŠè™›æ“¬çµé»æ˜ å°„è‡³å¯¦é«”ç¶²è·¯ã€‚
Hub-and-spoke æ˜¯ä¸€ç¨®æ˜Ÿç‹€çš„æ¦‚å¿µï¼Œæ¼”ç®—æ³•æœƒé¸ä¸€å€‹å…·æœ‰æœ€å¤§ Capacity (CPU æˆ–è¨˜æ†¶é«”)çš„ç¯€é»ç‚º Hub é»
ä¸¦ä»¥å®ƒç‚ºä¸­å¿ƒé»è·Ÿå’Œå®ƒç›¸é„°çš„çµé»(ç¨±ç‚º Spoke)é€£çµï¼›æ­¤æ¼”ç®—æ³•æœƒä¸€ç›´é¸ä¸‹å»ç›´åˆ°å®Œæˆ VN çš„æ˜ å°„ã€‚ 
2.3.4 æ–‡ç»[4] 
æœ¬æ–‡ç»ä½¿ç”¨äº† Maximum-flow æ¼”ç®—æ³•ä¾†åšè·¯å¾‘åˆ†æµã€‚Maximum-flow æ¼”ç®—æ³•åšè·¯å¾‘åˆ†æµå¯æœ‰æ•ˆè§£æ±ºå¤š
é‡é€£ç·šå•é¡Œï¼Œä½†æ˜¯æ­¤æ¼”ç®—æ³•çš„è¤‡é›œåº¦ç‚ºO(N3)ï¼Œä¸”æ²’æœ‰è€ƒæ…®åˆ°æ¯æ¢é€£çµ(Link)é »å¯¬å¤§å°ä»¥åŠè·¯å¾‘åˆ†æµçš„
å•é¡Œã€‚ 
2.4 ç ”ç©¶æ–¹æ³• 
æœ¬ï¦åº¦ç ”ç©¶è¨ˆç•«ç‚ºå¦‚ä½•åœ¨å¯¦é«”ç¶²è·¯åšç¯€é»æ˜ å°„åŠé€£çµæ˜ å°„ä»¥ç¬¦åˆ VN çš„è³‡æºéœ€æ±‚ã€‚ 
2.4.1 å•é¡Œçš„å®šç¾©ã€æè¿°åŠè§£æ±ºæ–¹æ³• 
A. è®Šæ•¸åŠæ˜ å°„èªªæ˜ 
åœ¨èªªæ˜æ˜ å°„å•é¡Œä¹‹å‰ï¼Œè¡¨ 1 å…ˆå°‡ä½¿ç”¨åˆ°çš„è®Šæ•¸åšäº›ç°¡è¦èªªæ˜ã€‚ 
è¡¨ 1ã€è®Šæ•¸èªªæ˜ 
ç¬¦è™Ÿ å®šç¾© 
Gs  è¡¨ç¤ºä¸€å€‹å¯¦é«”ç¶²è·¯ 
Ns  è¡¨ç¤ºå¯¦é«”ç¶²è·¯ä¸­æ‰€æœ‰ç¯€é»çš„é›†åˆ 
Ls è¡¨ç¤ºå¯¦é«”ç¶²è·¯ä¸­æ‰€æœ‰é€£çµçš„é›†åˆ 
Ps  è¡¨ç¤ºå¯¦é«”ç¶²è·¯ä¸­è·¯å¾‘çš„é›†åˆ 
Gv  è¡¨ç¤ºæ˜ å°„åˆ°å¯¦é«”ç¶²è·¯çš„ä¸€å€‹ VN 
Nv  è¡¨ç¤º VN ä¸­æ‰€æœ‰ç¯€é»çš„é›†åˆ 
Lv  è¡¨ç¤º VN ä¸­æ‰€æœ‰é€£çµçš„é›†åˆ 
AS  è¡¨ç¤ºå¯¦é«”ç¶²è·¯ä¸­æ¯å€‹ç¯€é»èˆ‡é€£çµå¯ç”¨è³‡æºçš„é›†åˆ 
AN
S  è¡¨ç¤ºå¯¦é«”ç¶²è·¯ä¸­æ¯å€‹ç¯€é»å‰©é¤˜å¯ç”¨è³‡æºçš„é›†åˆ 
AL
S  è¡¨ç¤ºå¯¦é«”ç¶²è·¯ä¸­æ¯å€‹é€£çµå‰©é¤˜å¯ç”¨è³‡æºçš„é›†åˆ 
AP
S  P  è¡¨ç¤ºå¯¦é«”ç¶²è·¯ä¸­æ¯æ¢è·¯å¾‘æ‰€å‰©å¯ç”¨é »å¯¬çš„é›†åˆ 
RV  è¡¨ç¤º VN ä¸­æ¯å€‹ç¯€é»èˆ‡é€£çµéœ€æ±‚çš„é›†åˆ 
RN
V  è¡¨ç¤º VN ä¸­æ¯å€‹ç¯€é»æ‰€éœ€æ±‚è³‡æºçš„é›†åˆ 
 7 
ç‚ºäº†è®“æˆ‘å€‘æ‰€æçš„æ¼”ç®—æ³•æ›´å®¹æ˜“äº†è§£ï¼Œæˆ‘å€‘ä½¿ç”¨åœ– 3 ä¾†èªªæ˜ç¯€é»æ˜ å°„åŠé€£çµ(Link)æ˜ å°„æ¼”ç®—æ³•ã€‚åœ– 3
æœ‰ä¸€å€‹å¯¦é«”ç¶²è·¯(3(a))ï¼Œå…©å€‹è™›æ“¬ç¶²è·¯(VN)(3(b)åŠ 3(c))ã€‚åœ¨å¯¦é«”ç¶²è·¯ä¸Š ğ‘ğ‘ (95) è¡¨ç¤ºå¯¦é«”ç¯€é»ğ‘ğ‘ çš„åˆå§‹
CPU ç‚º 95ï¼›ä¹Ÿå°±æ˜¯èªªï¼Œğ¶ğ‘
ğ‘†(ğ‘ğ‘ ) = 95ã€‚åŒæ¨£çš„ï¼Œåœ¨è™›æ“¬ç¶²è·¯ä¸Š ğ´ğ‘£(85) è¡¨ç¤ºè™›æ“¬ç¯€é»ğ´ğ‘£çš„éœ€æ±‚ CPU ç‚º 
85ï¼›ä¹Ÿå°±æ˜¯èªªï¼Œğ‘…ğ‘
ğ‘‰ ğ´ğ‘£ = 85ã€‚åœ¨å¯¦é«”ç¶²è·¯ä¸Šæ¯ä¸€æ¢é€£çµè¡¨ç¤ºåˆå§‹çš„é »å¯¬ï¼›åœ¨è™›æ“¬ç¶²è·¯ä¸Šæ¯ä¸€æ¢é€£çµè¡¨
ç¤ºéœ€æ±‚çš„é »å¯¬ã€‚ 
30
25
30
25
A
V
(85) B
V
(55)
D
V
(55) C
V
(60)
20
70
9590
b
S
(60)
60 95
5040
50
50
a
S
(95) c
S
(65)
g
S
(90)           d
S
(95)
f 
S
(90)           e
S
(65)
h
S
(50)
20
70
7065
b
S
(5)[B
V
(55)]
30 65
5040
20
50
a
S
(10)
[A
V
(85)]             
     c
S
(5)
        [C
V
(60)]
g
S
(90)                         d
S
(40)[D
V
(55)]
f 
S
(90)           e
S
(65)
h
S
(50)
2525
30
30
VN1
4040
40
E
V
(60)
G
V
(40) F
V
(60)
0
70
7065
b
S
(5)[B
V
(55)]
30 65
300
0
10
a
S
(10)
[A
V
(85)]             
     c
S
(5)
        [C
V
(60)]
g
S
(50)    
[G
V
(40)]      
                     d
S
(40)[D
V
(55)]
f 
S
(30)    
[F
V
(60)]
       e
S
(5)
     [E
V
(60)]
h
S
(50)
2525
30
30
VN1
20
20
40
40
VN2
VN2
(b) The first VN request (c) The second VN request
(a) The substrate network (d) The updated resources after 
accepting the first VN request
VN1
VN2
(e) The updated resources after 
accepting two VN requests  
åœ– 3ã€ç¯€é»æ˜ å°„åŠé€£çµ(Link)æ˜ å°„æ¼”ç®—æ³•ç¯„ä¾‹èªªæ˜ 
A.ç¯€é»æ˜ å°„æ¼”ç®—æ³• 
æˆ‘å€‘æ‰€æçš„ç¯€é»æ˜ å°„æ¼”ç®—æ³•ä¸»è¦è§€å¿µç‚ºé¸ä¸€å€‹å¯¦é«”çµé»æœ€æ¥è¿‘å·²ç¶“è¢«æ˜ å°„çš„å¯¦é«”çµé»ï¼Œä½¿å¾—å…©å€‹å¯¦
é«”çµé»çš„è·é›¢æœ€çŸ­ã€‚æˆ‘å€‘ä»¥åœ–3çš„ä¾‹å­ä¾†èªªæ˜ç¯€é»æ˜ å°„æ¼”ç®—æ³•ã€‚ 
çµ¦ä¸€å€‹ VN requestï¼Œç¯€é»æ˜ å°„æ¼”ç®—æ³•æ­¥é©Ÿå¦‚ä¸‹ï¼š 
æ­¥é©Ÿ 1: é¦–å…ˆé¸ä¸€å€‹ degree æœ€å¤§çš„è™›æ“¬ç¯€é»ï¼Œç„¶å¾Œè¨ˆç®—æ­¤è™›æ“¬ç¯€é»æ‰€éœ€æ±‚çš„ç¸½é »å¯¬ ã€‚ 
æ­¥é©Ÿ 2: æˆ‘å€‘å°‡æ‰€æœ‰ç¬¦åˆæ­¤è™›æ“¬ç¯€é» CPU åŠç¸½é »å¯¬éœ€æ±‚çš„å¯¦é«”ç¯€é»é¸å‡ºï¼›å‡å¦‚æœ‰å¤šå€‹å¯¦é«”ç¯€é»
è¢«é¸å‡ºï¼Œå‰‡éš¨æ©Ÿé¸å‡ºä»»ä¸€å€‹å¯¦é«”ç¯€é»ã€‚æœ€å¤§ degree çš„è™›æ“¬ç¯€é»ä¾¿æ˜ å°„åˆ°æ­¤å¯¦é«”ç¯€é»ã€‚ 
èˆ‰ä¾‹èªªæ˜ï¼Œåœ–3(b)åŒ…å«4å€‹è™›æ“¬ç¯€é»ï¼Œå› ç‚ºæ¯å€‹è™›æ“¬ç¯€é»çš„ degree éƒ½ä¸€æ¨£ï¼Œå› æ­¤æˆ‘å€‘çš„æ¼”ç®—æ³•éš¨æ©Ÿé¸
ä¸€å€‹è™›æ“¬ç¯€é»ã€‚å‡è¨­è™›æ“¬ç¯€é»ğ´ğ‘£è¢«é¸ä¸Šã€‚å¾ˆæ˜é¡¯çš„ï¼Œå¯¦é«”ç¯€é»ğ‘ğ‘ ã€ ğ‘‘ğ‘ ã€ ğ‘“ğ‘ ã€åŠ ğ‘”ğ‘ çš„ CPUæ»¿è¶³è™›æ“¬
ç¯€é»ğ´ğ‘£çš„éœ€æ±‚ã€‚å› ç‚ºè™›æ“¬ç¯€é»ğ´ğ‘£æ‰€éœ€æ±‚çš„ç¸½é »å¯¬ç‚º 55 (25 + 30)ï¼Œæ‰€ä»¥å¯¦é«”ç¯€é»ğ‘ğ‘ (90 +  60)ã€ ğ‘‘ğ‘ (50 + 
70 + 95)ã€ ğ‘“ğ‘ (40 + 50)ã€åŠ ğ‘”ğ‘ (60 + 50 + 40 + 20)éƒ½æ»¿è¶³è™›æ“¬ç¯€é»ğ´ğ‘£çš„ç¸½é »å¯¬éœ€æ±‚ã€‚å‡è¨­æˆ‘å€‘éš¨æ©Ÿä¸€å€‹
å¯¦é«”ç¯€é»ğ‘ğ‘ ã€‚å› æ­¤ï¼Œè™›æ“¬ç¯€é»ğ´ğ‘£ä¾¿è¢«æ˜ å°„åˆ°å¯¦é«”ç¯€é»ğ‘ğ‘ ã€‚ 
æ­¥é©Ÿ 3: ç¯€é»æ˜ å°„æ¼”ç®—æ³•ç¹¼çºŒé¸æ“‡ç¬¬äºŒå€‹è™›æ“¬ç¯€é»ğ‘›ğ‘£ã€‚ç¬¬äºŒå€‹è™›æ“¬ç¯€é»ğ‘›ğ‘£çš„é¸æ“‡æ–¹å¼æ˜¯é¸æ“‡å…·æœ‰ç›¸é„°
æœ€å¤šå·²ç¶“æ˜ å°„æˆåŠŸçš„è™›æ“¬ç¯€é»ã€‚å¦‚æ­¤å¯ä¿è­‰ç¬¬äºŒå€‹è™›æ“¬ç¯€é»ğ‘›ğ‘£æ‰€æ˜ å°„çš„å¯¦é«”ç¯€é»å’Œå·²ç¶“è¢«
æ˜ å°„çš„å¯¦é«”ç¯€é»è·é›¢è¼ƒè¿‘ã€‚ä»¤T è¡¨ç¤ºæ‰€æœ‰å¯¦é«”ç¯€é»ï¼Œé€™äº›å¯¦é«”ç¯€é»å·²ç¶“è¢«å’Œğ‘›ğ‘£ç›¸é„°çš„è™›æ“¬
ç¯€é»æ˜ å°„æˆåŠŸã€‚ 
ä»¥åœ–3(b)ç‚ºä¾‹èªªæ˜ï¼Œè™›æ“¬ç¯€é» ğµğ‘£ åŠ ğ·ğ‘£  å’Œè™›æ“¬ç¯€é»ğ´ğ‘£ç›¸é„°ã€‚å› æ­¤è™›æ“¬ç¯€é» ğµğ‘£ åŠ ğ·ğ‘£çš„ç›¸é„°å·²ç¶“æ˜ å°„
æˆåŠŸçš„è™›æ“¬ç¯€é»æ•¸é‡ä¸€æ¨£ã€‚å‡è¨­æ¼”ç®—æ³•é¸æ“‡è™›æ“¬ç¯€é»ğµğ‘£ã€‚T = {ğ‘ğ‘ }ã€‚ 
 9 
 [ğ‘‘ğ‘  , ğ‘”ğ‘  , ğ‘ğ‘ ]ã€‚æ¼”ç®—æ³•æ¥è‘—è™•ï§¤è™›æ“¬é€£çµ ğ‘™ğ‘£ ğ´ğ‘£ , ğµğ‘£ åŠ ğ‘™ğ‘£ ğµğ‘£ , ğ¶ğ‘£ ã€‚å¾ˆæ˜é¡¯çš„ï¼Œè™›æ“¬é€£çµ ğ‘™ğ‘£ ğ´ğ‘£ , ğµğ‘£ è¢«æ˜ å°„
åˆ°å¯¦é«”è·¯å¾‘  ğ‘ğ‘  = [ğ‘ğ‘ ,ğ‘ğ‘ ]ï¼Œè™›æ“¬é€£çµ ğ‘™ğ‘£ ğµğ‘£ , ğ¶ğ‘£ è¢«æ˜ å°„åˆ°å¯¦é«”è·¯å¾‘  ğ‘ğ‘  = [ğ‘ğ‘ ,ğ‘ğ‘ ]ã€‚åœ– 3(d) é¡¯ç¤ºåœ– 3(b)
çš„è™›æ“¬ç¯€é»åŠè™›æ“¬é€£çµæ˜ å°„æˆåŠŸå¾Œï¼Œå¯¦é«”ç¶²è·¯è³‡æºæ›´æ–°çš„ç‹€æ³ã€‚ 
B.2 å¤šæ¢è·¯å¾‘çš„æ˜ å°„ 
å¤šæ¢è·¯å¾‘æ¼”ç®—æ³•ä½¿ç”¨ cut-shortest path æ‰¾å‡ºå¤šæ¢å¯¦é«”è·¯å¾‘ä¾†åšè™›æ“¬é€£çµæ˜ å°„ã€‚cut-shortest path çš„é—œéµ
åšæ³•ç‚ºä¸€æ¢è™›æ“¬é€£çµçš„é »å¯¬éœ€æ±‚ä¸€ç›´è¢«é‡è¦†çš„é™¤ 2 ç›´åˆ°æ‰€æ‰¾å‡ºä¾†çš„å¤šæ¢å¯¦é«”è·¯å¾‘é »å¯¬ç¸½å’Œæ»¿è¶³é€™æ¢è™›
æ“¬é€£çµçš„é »å¯¬éœ€æ±‚ã€‚ç‚ºäº†ä¸å¢åŠ è¨ˆç®—çš„è¤‡é›œåº¦ï¼Œæˆ‘å€‘æœƒåš´æ ¼çš„é™åˆ¶ä¸€æ¢è™›æ“¬é€£çµæ‰€èƒ½æ˜ å°„çš„å¯¦é«”è·¯å¾‘
æ•¸ç›®ã€‚å‡è¨­æœ€å¤§æ‰€èƒ½æ˜ å°„çš„å¯¦é«”è·¯å¾‘æ•¸ç›®ç‚º kã€‚å¤šæ¢è·¯å¾‘æ¼”ç®—æ³•çš„ä¸»è¦ç›®æ¨™ç‚ºæ‰¾å‡ºä¸€å€‹æ¶µæ•¸ 
ğ‘€ğ¿ âˆ¶  ğ¿
ğ‘‰  â†’  2ğ‘ƒ
ğ‘†
ä½¿å¾—  âˆ€ğ‘™ğ‘  âˆˆ ğ¿ğ‘† , ğ›±ğ¿ ğ‘™
ğ‘   â‰¤  ğ´ğ¿
ğ‘† ğ‘™ğ‘  , ä¸¦ä¸” âˆ€ğ‘™ğ‘£ ğ‘¥ğ‘£ , ğ‘¦ğ‘£  âˆˆ  ğ¿ğ‘‰ , ğ‘€ğ¿ ğ‘™
ğ‘£  =   ğ‘1
ğ‘  , ğ‘2
ğ‘  , ğ‘3
ğ‘  , â€¦ , ğ‘ğ‘•
ğ‘   , 
ğ‘• â‰¤  ğ‘˜ ä¸¦ä¸” âˆ€ğ‘ğ‘  âˆˆ ğ‘€ğ¿ ğ‘™
ğ‘£ ,  ğ‘ğ‘  = [ğ‘€ğ‘ ğ‘¥
ğ‘£ , â€¦ , ğ‘€ğ‘ ğ‘¦
ğ‘£ ]ã€‚  
çµ¦ä¸€æ¢é »å¯¬éœ€æ±‚ç‚ºğ‘…ğ¿
ğ‘‰(ğ‘™ğ‘£)çš„è™›æ“¬é€£çµï¼Œå¤šæ¢è·¯å¾‘æ˜ å°„æ¼”ç®—æ³•æ­¥é©Ÿå¦‚ä¸‹ï¼š 
æ­¥é©Ÿ 1: å‡è¨­ğ‘€ğ‘(ğ‘¥
ğ‘£) = ğ‘–ğ‘   ä¸¦ä¸” ğ‘€ğ‘ ğ‘¦
ğ‘£ = ğ‘—ğ‘ ã€‚å¤šæ¢è·¯å¾‘æ˜ å°„æ¼”ç®—æ³•å»ºæ§‹ä¸€å€‹åœ–å½¢ ğºğ‘†
â€²
= (ğ‘ğ‘† , ğ¿ğ‘†
â€²
) 
ä½¿å¾— ğ¿ğ‘†
â€²
= {ğ‘™ğ‘ |ğ‘™ğ‘  âˆˆ ğ¿ğ‘†  åŠ ğ´ğ¿
ğ‘† ğ‘™ğ‘  â‰¥ ğ‘ğ‘¢}ã€‚ 
æ­¥é©Ÿ 2: å¤šæ¢è·¯å¾‘æ˜ å°„æ¼”ç®—æ³•åœ¨ğºğ‘†
â€²
æ‰¾å‡ºå¾å¯¦é«”ç¯€é»ğ‘–ğ‘ åˆ°å¯¦é«”ç¯€é»ğ‘—ğ‘   çš„æœ€çŸ­çš„å¯¦é«”è·¯å¾‘ğ‘ğ‘ ä½¿å¾—
ğ´ğ‘ƒ
ğ‘†  ğ‘ğ‘  â‰¥ ğ‘ğ‘¢ã€‚å‡å¦‚ ğ‘ğ‘  å­˜åœ¨ï¼Œå‰‡ç¹¼çºŒåŸ·ï¨ˆæ­¥é©Ÿ 3ã€‚å‡å¦‚ğ‘ğ‘¢ > ğ‘šğ‘–ğ‘›â¡{ğ´ğ¿
ğ‘† ğ‘™ğ‘  |ğ‘™ğ‘  âˆˆ LS}ï¼Œå‰‡ä»¤ ğ‘ğ‘¢ = ğ‘ğ‘¢/2 
ä¸¦ä¸”ç¹¼çºŒåŸ·ï¨ˆæ­¥é©Ÿ 3ï¼›å¦å‰‡åŸ·ï¨ˆæ­¥é©Ÿ 4ã€‚ 
æ­¥é©Ÿ 3: å‡å¦‚  ğ‘ğ‘   å­˜åœ¨ï¼Œå‰‡ğ´ğ¿
ğ‘† = ğ´ğ¿
ğ‘† âˆ’ ğ›±ğ¿ã€‚ä»¤ğ‘€ğ¿ ğ‘™
ğ‘£ = ğ‘€ğ¿ ğ‘™
ğ‘£ âˆª {ğ‘ğ‘ }ï¼Œğ‘€ğµ ğ‘™
ğ‘£ , ğ‘ğ‘  = ğ‘ğ‘¢ ã€‚å‡å¦‚
 {ğ‘€ğµ ğ‘™
ğ‘£ , ğ‘ğ‘  |ğ‘™ğ‘£ âˆˆ ğ¿ğ‘‰ , ğ‘ğ‘  âˆˆ ğ‘€ğ¿(ğ‘™
ğ‘£)} â‰¥ ğ‘…ğ¿
ğ‘‰(ğ‘™ğ‘£)ä¸¦ä¸”|ğ‘€ğ¿ ğ‘™
ğ‘£ | â‰¤ ğ‘˜ï¼Œå‰‡åŸ·ï¨ˆå–®æ¢è·¯å¾‘æ˜ å°„æ¼”ç®—æ³•çš„æ­¥é©Ÿ
5ã€‚å‡å¦‚ h > kï¼Œå‰‡åŸ·ï¨ˆæ­¥é©Ÿ 4ï¼Œå¦å‰‡é‡è¦†åŸ·ï¨ˆæ­¥é©Ÿ 2ã€‚ 
æ­¥é©Ÿ 4: å¤šæ¢è·¯å¾‘æ˜ å°„æ¼”ç®—æ³•å°‡ VN åœ¨å¯¦é«”ç¶²è·¯æ‰€ä½”çš„æ‰€æœ‰è³‡æºé‡‹æ”¾æ‰ï¼ŒVN çš„æ˜ å°„å¤±æ•—ã€‚ 
èˆ‰ä¾‹èªªæ˜ï¼Œå‡è¨­æœ‰ä¸€å€‹æ–°çš„ VN(å¦‚åœ– 3(c)æ‰€ç¤º)åŒ…å« 3 å€‹è™›æ“¬ç¯€é»(ğ¸ğ‘£ åˆ° ğºğ‘£)ã€‚ç¶“éä½¿ç”¨ç¯€é»æ˜ å°„æ¼”
ç®—æ³•å¾Œï¼Œå¦‚åœ– 3(d) åŠ 3(e)æ‰€ç¤ºï¼Œè™›æ“¬ç¯€é» ğ¸ğ‘£ã€ğ¹ğ‘£åŠ ğºğ‘£  åˆ†åˆ¥è¢«æ˜ å°„åˆ°å¯¦é«”ç¯€é» ğ‘’ğ‘  , ğ‘“ğ‘   åŠ ğ‘”ğ‘ ã€‚æ¥è‘—æˆ‘
å€‘ä½¿ç”¨å–®æ¢è·¯å¾‘æ˜ å°„æ¼”ç®—æ³•å°‡è™›æ“¬é€£çµ ğ‘™ğ‘£ ğ¸ğ‘£ , ğ¹ğ‘£ æ˜ å°„åˆ°å¯¦é«”è·¯å¾‘ ğ‘ğ‘  =  ğ‘’ğ‘  ,  ğ‘“ğ‘  ï¼›è™›æ“¬é€£çµ ğ‘™ğ‘£ ğ¹ğ‘£ , ğºğ‘£ 
æ˜ å°„åˆ°å¯¦é«”è·¯å¾‘ ğ‘ğ‘  =  ğ‘“ğ‘  ,  ğ‘”ğ‘  ï¼›å¦‚åœ–åœ– 3(e)æ‰€ç¤ºï¼Œå¾ˆæ˜é¡¯çš„ç„¡æ³•æ‰¾åˆ°ä¸€æ¢å¾å¯¦é«”ç¯€é»ğ‘”ğ‘  åˆ° ğ‘’ğ‘ çš„å¯¦é«”
è·¯å¾‘æœ‰è¶³å¤ çš„å¯ç”¨é »å¯¬æ»¿è¶³è™›æ“¬é€£çµ ğ‘™ğ‘£ ğºğ‘£ , ğ¸ğ‘£ çš„é »å¯¬éœ€æ±‚ã€‚å› æ­¤ï¼Œğ‘ğ‘¢ =
ğ‘ğ‘¢
2
=20ã€‚å¾ˆæ˜é¡¯çš„ï¼Œå¯¦é«”è·¯å¾‘
ğ‘1
ğ‘  = [ğ‘”ğ‘  , ğ‘‘ğ‘  , ğ‘’ğ‘ ]åŠğ‘2
ğ‘ =[ğ‘”ğ‘  , ğ‘’ğ‘ ]æœ‰è¶³å¤ çš„å¯ç”¨é »å¯¬æ»¿è¶³è™›æ“¬é€£çµ ğ‘™ğ‘£ ğºğ‘£ , ğ¸ğ‘£ çš„é »å¯¬éœ€æ±‚ï¼›ä¹Ÿå°±æ˜¯èªªï¼Œæ¼”ç®—
æ³•æœƒå¾è™›æ“¬é€£çµ ğ‘™ğ‘£ ğºğ‘£ , ğ¸ğ‘£ çš„é »å¯¬éœ€æ±‚ä¸­åˆ†é… 20 å€‹å–®ä½åœ¨å¯¦é«”è·¯å¾‘ ğ‘1
ğ‘  = [ğ‘”ğ‘  , ğ‘‘ğ‘  , ğ‘’ğ‘ ]ï¼Œåˆ†é… 20 å€‹å–®ä½
åœ¨å¯¦é«”è·¯å¾‘ ğ‘2
ğ‘  =[ğ‘”ğ‘  , ğ‘’ğ‘ ]ã€‚å› æ­¤è™›æ“¬é€£çµ ğ‘™ğ‘£ ğºğ‘£ , ğ¸ğ‘£ è¢«æ˜ å°„åˆ°å…©æ¢å¯¦é«”è·¯å¾‘ï¼šğ‘1
ğ‘ åŠ  ğ‘2
ğ‘ ã€‚æ›å¥è©±èªªï¼Œ
ğ‘€ğ¿( ğ‘™
ğ‘£ ğºğ‘£ , ğ¸ğ‘£ ) =  ğ‘1
ğ‘  , ğ‘2
ğ‘   ä¸¦ä¸” ğ‘€ğµ  ğ‘™
ğ‘£ ğºğ‘£ , ğ¸ğ‘£ , ğ‘1
ğ‘  = ğ‘€ğµ  ğ‘™
ğ‘£ ğºğ‘£ , ğ¸ğ‘£ , ğ‘2
ğ‘  = 20ã€‚åœ– 3(e)é¡¯ç¤ºç¶“éåœ– 3(b)
åŠ 3(c)æ˜ å°„æˆåŠŸå¾Œï¼Œå¯¦é«”ç¶²è·¯çš„è³‡æºæ›´æ–°çš„ç‹€æ³ã€‚ 
2.5 çµæœèˆ‡è¨ï¥ 
A. å¯¦é©—ç’°å¢ƒæ¶æ§‹ 
æœ¬å¯¦é©—ç’°å¢ƒä»¥ NS2 ä¾†å®Œæˆã€‚æˆ‘å€‘æ¨¡æ“¬ä¸€å€‹æœ‰ 100 å€‹ç¯€é»çš„å¯¦é«”ç¶²è·¯ ğºğ‘†ï¼Œæ¯ä¸€å€‹å¯¦é«”ç¯€é»çš„åˆå§‹å¯
ç”¨è³‡æºé‡å¾ 50 å€‹å–®ä½è‡³ 100 å€‹å–®ä½é€™å€‹ç¯„åœéš¨æ©Ÿé¸ä¸€å€‹æ•´æ•¸å€¼ï¼›æ¯ä¸€å€‹å¯¦é«”ç¯€é»è‡³å°‘æœƒæœ‰ä¸€æ¢å¯¦é«”é€£
çµé€£ç·šåˆ°å…¶ä»–å¯¦é«”ç¯€é»ï¼Œæ­¤ç‚ºé¿å…å¯¦é«”ç¶²è·¯ä¸­æœ‰å­¤ç«‹çš„å¯¦é«”ç¯€é»å­˜åœ¨ã€‚ä¸ç®¡æ¯ä¸€å€‹å¯¦é«”ç¯€é»æœ‰å¤šå°‘æ¢
å¯¦é«”é€£çµï¼Œæˆ‘å€‘é™åˆ¶å¯¦é«”ç¶²è·¯çš„å¯¦é«”é€£çµç¸½æ•¸é‡ç‚º 500 æ¢ã€‚æ¯æ¢å¯¦é«”é€£çµçš„åˆå§‹å¯ç”¨é »å¯¬å¾ 1 å€‹å–®ä½
é »å¯¬è‡³ 20 å€‹å–®ä½é »å¯¬é€™å€‹ç¯„åœéš¨æ©Ÿé¸ä¸€å€‹æ•´æ•¸å€¼ã€‚ 
æœ¬å¯¦é©—ç”¢ç”Ÿ 200 å€‹ VN Requestsï¼Œå‡è¨­æ‰€æœ‰åˆ°é”çš„ VN Request ç‚º Poisson Processï¼Œæ¯ç§’å¹³å‡ 5 å€‹ 
VN Request åˆ°é”ï¼Œæ¯å€‹ VN Request åœ¨å¯¦é«”ç¶²è·¯çš„å¹³å‡æ™‚é–“ç‚º 5 ç§’ã€‚æ¯ä¸€å€‹è™›æ“¬ç¶²è·¯å¾ 2 è‡³ 20 é€™å€‹
ç¯„åœéš¨æ©Ÿå–ä¸€å€‹æ•´æ•¸å€¼ä¾†ç•¶ä½œè™›æ“¬ç¯€é»çš„ç¸½æ•¸ç›®ï¼Œæ¯ä¸€å€‹è™›æ“¬ç¯€é»å¾ 1 å€‹å–®ä½è³‡æºè‡³ 20 å€‹å–®ä½è³‡æºé€™
å€‹ç¯„åœéš¨æ©Ÿå–ä¸€å€‹æ•´æ•¸å€¼ä¾†ç•¶ä½œå…¶è³‡æºéœ€æ±‚ï¼›æ¯ä¸€å€‹è™›æ“¬ç¯€é»è‡³å°‘æœƒæœ‰ä¸€æ¢è™›æ“¬é€£çµé€£ç·šåˆ°å…¶ä»–è™›æ“¬
ç¯€é»ï¼Œæ­¤ç‚ºé¿å…è™›æ“¬ç¶²è·¯ä¸­æœ‰å­¤ç«‹çš„è™›æ“¬ç¯€é»å­˜åœ¨ï¼›è™›æ“¬ç¶²è·¯è£¡çš„æ¯æ¢è™›æ“¬é€£çµå¾ 1 å€‹å–®ä½é »å¯¬è‡³ 20
 11 
å› æ­¤é¸å‡ºä¾†çš„è·¯å¾‘ä¹Ÿæœƒæ¯”æœ¬è¨ˆç•«æ‰€æå‡ºçš„æ¼”ç®—æ³•æ‰€æ‰¾å‡ºçš„æœ€çŸ­è·¯å¾‘é‚„é•·ã€‚ 
 
åœ– 4ã€ç•¶ K=2 æ™‚çš„æ˜ å°„é£½å’Œç‡ 
 
åœ– 5ã€ç•¶ K=2 æ™‚çš„æ˜ å°„æ•ˆç‡ 
 
åœ– 6ã€ç•¶ K=3 æ™‚çš„æ˜ å°„é£½å’Œç‡ 
å¯¦éš›æ˜ å°„å€‹æ•¸:82
å¯¦éš›æ˜ å°„å€‹æ•¸:54
å¯¦éš›æ˜ å°„å€‹æ•¸:58
0
0.1
0.2
0.3
0.4
0.5
0.6
0.7
0.8
0.9
1
0 25 50 75 100 125 150 175 200
æ˜ 
å°„
é£½
å’Œ
åº¦
VNæ˜ å°„ç¸½æ•¸
This Paper
Reference[3]
Reference[2]
0.25
0.27
0.29
0.31
0.33
0.35
0.37
0.39
0.41
0.43
0.45
0 25 50 75 100 125 150 175 200
æ˜ 
å°„
æ•ˆ
ç‡
VNæ˜ å°„ç¸½æ•¸
This Paper
Reference[3]
Reference[2]
å¯¦éš›æ˜ å°„å€‹æ•¸:82
å¯¦éš›æ˜ å°„å€‹æ•¸:54
å¯¦éš›æ˜ å°„å€‹æ•¸:62
å¯¦éš›æ˜ å°„å€‹æ•¸:81
å¯¦éš›æ˜ å°„å€‹æ•¸:56
å¯¦éš›æ˜ å°„å€‹æ•¸:62
0
0.1
0.2
0.3
0.4
0.5
0.6
0.7
0.8
0.9
1
0 25 50 75 100 125 150 175 200
æ˜ 
å°„
é£½
å’Œ
åº¦
VNæ˜ å°„ç¸½æ•¸
This Paper Reference[3]
Reference[2]
 13 
 
åœ– 9ã€ç•¶ K=3 æ™‚çš„å¯¦éš›æ˜ å°„ç‡ 
2.6 çµï¥èˆ‡è¨ï¥ 
åœ¨æœ¬è¨ˆç•«ä¸­æˆ‘å€‘æå‡ºäº†ç¯€é»æ˜ å°„æ¼”ç®—æ³•åŠé€£çµæ˜ å°„æ¼”ç®—æ³•ä¾†å°‡è™›æ“¬ç¶²è·¯æ˜ å°„åˆ°å¯¦é«”ç¶²è·¯ã€‚æœ¬è¨ˆç•«çš„
ä¸»è¦è²¢ç»æœ‰ä¸‰é»ï¼šç¬¬ä¸€é»æœ¬æ¼”ç®—æ³•çš„æ™‚é–“è¤‡é›œåº¦è¼ƒæ–‡ç»[2]åŠæ–‡ç»[3]ä¾†çš„ä½ï¼Œå› æ­¤å¯ç¸®çŸ­åŸ·ï¨ˆæ™‚é–“ï¼Œå°
æ–¼å³æ™‚(Online)çš„è™›æ“¬ç¶²è·¯è™•ï§¤æ˜¯å¾ˆé‡è¦çš„ã€‚ç¬¬äºŒé»æœ¬æ¼”ç®—æ³•ç›¸è¼ƒæ–‡ç»[2]åŠæ–‡ç»[3]èƒ½å®¹ç´æ›´å¤šçš„è™›æ“¬ç¶²
è·¯ç¸½æ•¸ï¼Œå› æ­¤æé«˜äº†æ¥­è€…çš„æ”¶å…¥ã€‚ç¬¬ä¸‰é»æœ¬æ¼”ç®—æ³•æ‰€ä½¿ç”¨çš„æ˜ å°„åˆ†æµæ•¸è¼ƒæ–‡ç»[2]åŠæ–‡ç»[3]é‚„å°‘ï¼Œä¸ä½†
å¯ä»¥æ¸›å°‘ç¶²è·¯ä¸Šçš„ Control Overheadï¼Œä¹Ÿèƒ½å¢åŠ ç›®çš„åœ°æ•´åˆå°åŒ…çš„é€Ÿåº¦ã€‚å¯¦é©—çµæœä¹Ÿè­‰æ˜äº†é€™ä¸‰é»çš„è²¢
ç»ã€‚ 
2.7 ï¥«è€ƒæ–‡ç» 
[1] Jorge Carapinha , Javier Jimenez, â€œNetwork Virtualization â€“ a View from the Bottom.â€, VISAâ€™09, ACM 
Workshop, 2009. 
[2] Minlan Yu, Yung Yi, Jennifer Rexford, Mung Chiang, â€Rethinking Virtual Network Embedding: 
Substrate Support for Path Splitting and Migrationâ€ ACM SIGCOMM 2008. 
[3] Ines HOUIDI, Wajdi LOUATI, Djamal ZEGHLACHE, â€œA Distributed Virtual Network Mapping 
Algorithmâ€, IEEE 2008. 
[4] Nabeel Farooq Butt, N. M. Mosharaf Kabir Chowdhury, Raouf Boutaba, â€ Topology-Awareness and 
Reoptimization Mechanism for Virtual Network Embeddingâ€, LNCS 6091 P27-30 2010. 
[5] N. M. Mosharaf Kabir Chowdhury and Raouf Boutaba,â€œNetwork Virtualization: State of the Art and 
Research Challenges,â€ IEEE Communications Magazine, July 2009, pp. 20-26. 
[6] Juan Felipe Botero, Xavier Hesselbach, â€œThe Bottlenecked Virtual Network Problem in Bandwidth 
Allocation for Network Virtualization,â€ IEEE LATINCOMâ€™09, Sep. 2009, pp. 1-5. 
[7] Karsten Oberle, Marcus Kessler, Manuel Stei, Dominik Lamp, SÃ¶ren Berger, â€œNetwork Virtualization: 
The missing piece,â€ ICINâ€™09, Oct. 2009, pp. 1-6. 
[8] David Bernstein, Erik Ludvigson, â€œNetworking Challenges and Resultant Approaches for Large Scale 
Cloud Construction,â€ GPCâ€™09, May 2009, pp. 136-142. 
[9] Solheim, A.G., Lysne, O., Skeie, T.,Sdring, T.,Reinemo, S.A., â€œA Framework for Routing and Resource 
Allocation in Network Virtualization,â€ HiPCâ€™09, Dec. 2009, pp. 129-139. 
[10] Marquezan, C.C.  Nobre, J.C.  Granville, L.Z.  Nunzi, G.  Dudkowski, D.  Brunner, M., â€œDistributed 
Reallocation Scheme for Virtual Network Resources,â€ IEEE ICCâ€™09, June 2009, pp. 1-5. 
0
0.05
0.1
0.15
0.2
0.25
0.3
0.35
0 25 50 75 100 125 150 175 200
å¯¦
éš›
æ˜ 
å°„
ç‡
VNæ˜ å°„ç¸½æ•¸
This Paper
Reference[3]
Reference[2]
å¯¦éš›æ˜ å°„å€‹æ•¸:81
å¯¦éš›æ˜ å°„å€‹æ•¸:62
å¯¦éš›æ˜ å°„å€‹æ•¸:56
åœ‹ç§‘æœƒè£œåŠ©å°ˆé¡Œç ”ç©¶è¨ˆç•«é …ä¸‹å‡ºå¸­åœ‹éš›å­¸è¡“æœƒè­° 
å¿ƒå¾—å ±å‘Š 
                        æ—¥æœŸï¼š 101 å¹´ 10 æœˆ 20 æ—¥ 
                                 
ä¸€ã€åƒåŠ æœƒè­°ç¶“é 
æ­¤ç ”è¨æœƒæ˜¯ç”± IEEE ä¸»è¾¦çš„ International Conference on Advanced Information 
Networking and Applicationï¼Œç°¡ç¨± AINAï¼Œç‚ºæœŸ 4å¤©ã€‚åƒåŠ çš„å­¸è€…ä¾†è‡ªæ–¼ä¸–ç•Œå„åœ°ï¼Œæˆ‘éå¸¸
æ¦®å¹¸èƒ½æ©ŸæœƒåƒåŠ é€™æ¬¡åœ‹éš›æ€§çš„ç ”è¨æœƒï¼Œå’Œä¸–ç•Œå„åœ‹çš„å­¸è€…äº’ç›¸äº¤æµç ”ç©¶çš„æˆæœã€‚ 
åƒåŠ çš„è­°ç¨‹æ˜¯ç¬¬ 3 å¤©(2012 å¹´ 3 æœˆ 28 æ—¥)ä¸‹åˆçš„ç¶²è·¯æ‡‰ç”¨ Sessionï¼Œä¸»æŒäººç‚ºæ—¥æœ¬çš„å­¸
è€…ã€‚æˆ‘åœ¨å ±å‘Šä¸­æå‡ºåœ¨è™›æ“¬ç¶²è·¯æ˜ å°„è‡³å¯¦é«”ç¶²è·¯çš„æ¼”ç®—æ³•ï¼Œç”±å¯¦é©—èˆ‰è­‰æœ¬æ¼”ç®—æ³•ç¢ºå¯¦æ”¹å–„
æ˜ å°„æ•ˆç‡ï¼Œå¢åŠ æ¥­è€…çš„æ”¶å…¥ï¼›è¨±å¤šå­¸è€…å°æ–¼æå‡ºçš„æ§‹æƒ³å……æ»¿äº†èˆˆè¶£ï¼Œå•äº†è¨±å¤šå•é¡Œï¼Œç¶“é
ç†±çƒˆçš„è¨è«–å¾Œï¼Œçµ¦èˆ‡ä¸€äº›å»ºè­°ï¼Œè®“æˆ‘å—ç›Šè‰¯å¤šã€‚æœƒå¾Œï¼Œæˆ‘å’Œè¨±å¤šå­¸è€…é€²è¡Œæ›´æ·±å…¥çš„è¨è«–ï¼Œ
å­¸è€…å€‘ä¹Ÿä¸åå—‡åœ°åˆ†äº«ä»–å€‘çš„ç›¸é—œç ”ç©¶çš„æˆæœå’Œè§£æ±ºå•é¡Œçš„æ–¹æ³•ã€‚æ­¤å¤–ï¼Œåœ¨ 2012 å¹´ 3 æœˆ
28æˆ‘é‚„åƒåŠ äº†å…¶å®ƒçš„è­°ç¨‹ï¼Œè¦‹è­˜åˆ°å…¶ä»–åœ‹å®¶å­¸è€…çš„ç ”ç©¶ï¼›å…¶ä¸­é‚„é‡åˆ°äº†ä¸€äº›ä¾†è‡ªè‡ºç£å…¶å®ƒ
å¤§å­¸çš„æ•™æˆï¼Œäº’ç›¸åˆ†äº«åƒåŠ ç ”è¨æœƒçš„å¿ƒå¾—ã€‚ 
æ­¤æœƒè­°æ–¼ 2012å¹´ 3æœˆ 29æ—¥çµæŸï¼Œå¸¶å›äº†å„åœ‹çš„ç ”ç©¶çµæœå’Œå¿ƒå¾—ï¼Œå°æ–¼æœªä¾†çš„ç ”ç©¶æœ‰
è¨ˆç•«ç·¨è™Ÿ NSC  NSC100-2221-E-130-013- 
è¨ˆç•«åç¨± è™›æ“¬ç¶²è·¯åŠå¯¦é«”ç¶²è·¯æ˜ å°„çš„ç ”ç©¶ 
å‡ºåœ‹äººå“¡
å§“å 
å¾æ­¦å­ 
æœå‹™æ©Ÿæ§‹
åŠè·ç¨± 
éŠ˜å‚³å¤§å­¸è³‡å·¥ç³»å‰¯æ•™æˆ 
æœƒè­°æ™‚é–“ 
101å¹´ 3æœˆ 26æ—¥è‡³
101å¹´ 3æœˆ 29æ—¥ æœƒè­°åœ°é» æ—¥æœ¬ç¦å²¡ 
æœƒè­°åç¨± 
(ä¸­æ–‡) 
(è‹±æ–‡) IEEE International Conference on Advanced 
Information Networking and Applications (AINA-2012) 
ç™¼è¡¨è«–æ–‡
é¡Œç›® 
(ä¸­æ–‡) 
(è‹±æ–‡)  A Virtual Network Mapping Through Path Splitting 
and Migration 
Virtual Network Mapping Through
Path Splitting and Migration
Wu-Hsiao Hsu 
Department of Computer 
Science and Information 
Engineering 
Ming Chuan University 
Taoyuan, Taiwan 
wuhsiao@mail.mcu.edu.tw 
Yuh-Pyng Shieh 
Department of Computer 
Science and Information 
Engineering 
Ming Chuan University 
Taoyuan, Taiwan 
arping@gmail.com 
Chia-Hui Wang 
Department of Computer 
Science and Information 
Engineering 
Ming Chuan University 
Taoyuan, Taiwan 
wangch@mail.mcu.edu.tw 
Sheng-Cheng Yeh 
Department of Computer 
Science and Information 
Engineering 
Ming Chuan University 
Taoyuan, Taiwan 
pigass0512@gmail.com 
Abstractâ€”Mapping multiple virtual network (VN) requests with 
constraints on virtual nodes and virtual links into a shared 
substrate network presents a significant challenge and is an NP-
hard problem. In this paper, we propose a heuristic node and link 
mapping algorithm that handles online VN requests. The node 
mapping algorithm selects a substrate node that satisfies both a 
virtual nodeâ€™s resource requirement and the amount of requested 
available bandwidth. The link mapping algorithm focuses on 
mapping a virtual link to a substrate path or paths. In addition, 
path migration is used to migrate virtual links to different 
substrate paths, which maximizes the number of coexisting VNs in 
a substrate network and increases the revenue of the 
Infrastructure Providers (InP). Simulation results indicate that 
the proposed algorithm offers better performance than existing 
mapping approaches.
Keywords: VN, Node mapping, Link mapping, Path migration. 
1. Introduction  
Network virtualization recently has received considerable 
attention because it can support multiple coexisting virtual 
networks (VN) over a shared substrate network. Each VN is a 
collection of virtual nodes and virtual links, and is customized 
for a specific application or to meet a user requirement. In a 
network virtualization environment, the role of traditional 
Internet Service Providers (ISP) is divided into two 
independent entities [1]: Infrastructure Providers (InP) and 
Service Providers (SP). The InPs are responsible for 
deploying and managing the substrate network; the SPs create 
and manage VNs by aggregating resources from multiple InPs 
and offer end-to-end services. 
Network virtualization takes several key research 
directions [2], one of which is virtualizing the networksâ€™ 
resources, also known as the VN embedding/mapping 
problem in the literature. Specifically, each virtual node and 
virtual link in a VN is mapped to a substrate node and 
substrate path, respectively. A substrate path may be a single 
substrate link or a sequence of substrate links. Each VN
request has resource constraints, such as the processing 
resources on the substrate nodes and the bandwidth resources 
on the substrate links. The number of VN requests that can be 
deployed on a substrate network depends on the capability of 
the substrate and the demands of the VN requests.
Mapping multiple VN requests with constraints on virtual 
nodes and virtual links into a shared substrate network 
presents a significant challenge and is an NP-hard problem [2]. 
In this paper, we propose an efficient heuristic mapping 
algorithm that handles VN requests as they arrive, rather than 
handling a large number of VN requests simultaneously. 
The remainder of this paper is organized as follows. 
Section 2 presents related work. Section 3 introduces the 
notation and provides an objective description. Section 4 
presents the proposed algorithm. Section 5 describes the 
simulation model and results, and section 6 provides 
conclusions. 
2. Related work 
Previous efforts have been made to address online VN 
request mapping algorithms [3-6]. N. Chowdhury et al. [3] 
proposes VN embedding algorithms with better coordination 
between the node mapping and the link mapping phases. Y. 
Zhu and M. Ammar [4] focus on the algorithm design for 
two versions of the VN assignment problem: VN assignment 
without reconfiguration (VNA-I) and VN assignment with 
reconfiguration (VNA-II). M. Yu et al. [5] introduces the VN 
mapping algorithms that enable the substrate to support path 
splitting and migration. For the node mapping algorithm, the 
greedy algorithm is used to map the virtual nodes to the 
substrate nodes with the maximum substrate resources, so as 
to minimize the use of resources at the bottleneck nodes/links. 
For the link mapping algorithm, the k-shortest path algorithm
is used as an approximation approach to minimize bandwidth 
consumption by the VN. In addition, the substrate network 
allows a virtual link to map to multiple substrate paths with a 
flexible path-splitting ratio. Path migration is performed by 
re-running the link-mapping algorithm with requests that 
allow path splitting. Adil Razzaq, Muhammad Siraj Rathore 
[6] presents VN embedding algorithms that map the nodes of 
the VN as closely as possible in the substrate network and 
then assign virtual links to the shortest paths that satisfy their 
demands. The proposed algorithms first map the virtual node 
that requires the most resources to the substrate node that 
satisfies its demand. Then, disjoint k-shortest substrate paths 
are found for each virtual link. Finally, the minimum of all 
the substrate links in each substrate path are selected to 
ensure that the link with the least resources in the substrate 
path is able to satisfy the virtual link demand.  
2012 26th International Conference on Advanced Information Networking and Applications Workshops
978-0-7695-4652-0/12 $26.00 Â© 2012 IEEE
DOI 10.1109/WAINA.2012.74
1095
substrate nodes with the minimum length of #!(, $). The 
next virtual node is mapped to substrate node .  
Step 5: Steps 3 through 5 are repeated until all virtual 
nodes have been chosen. Then, the resources available to
each substrate node in the   is updated.  
22
18
46
36
37
28
15
31
13
33 11
22
(a). A substrate network (b). A virtual network
as(80)
ds(40)
cs(90)
bs(30)
gs(110)
es(30)
fs(50)
hs(130)
dv(70)
cv(40)
av(45)
17
bv(70)
ev(70)
204
Fig. 1. Example of node mapping algorithm. 
For example as shown in Fig. 1, suppose the substrate 
network and VN request contain 8 nodes (nodes " through 
â„ä°¾ ä°¾ ä°¾ ä°¾ ä°¾ ä°¾ ) and 5 nodes (nodes "  through & ), respectively. The 
length of the shortest substrate path is based on the hop-count.!
The "(80) denotes that the initial resource of substrate node 
" is 80; that is, (") = 80. Similarly, the "(45) denotes 
that the resource requested by virtual node "  is 45; that is, 
 (") = 45. The number indicated at each link in Fig. 1(a) 
represents the initial bandwidth (i.e., ()) of the substrate 
network; the number indicated at each link in Fig. 1(b) 
represents the requested bandwidth of the virtual link. 
The node mapping algorithm selects virtual node "
because it has the largest degree. The resources of substrate 
nodes ", ', #, *, and â„satisfy the requirement of virtual 
node " . Because the amount of bandwidth requested by 
virtual node "  is 50 (17+11+22), substrate nodes 
" (46+18+22), '  (18+36+33), and # (37+28) satisfy the 
requirement. Substrate nodes  " and '  have the largest 
degree. We assume that the algorithm selects substrate node 
". Hence, virtual node "  is mapped to substrate node ". 
The algorithm continues to select the next virtual node. 
Virtual nodes , ' , and ! are the neighbors of virtual node 
" . Hence, they have the same number of neighboring virtual 
node that has been mapped to the substrate node. Assume 
that the algorithm selects virtual node !  and T = {"}. The 
resources of substrate nodes ' , * , and â„  satisfy the 
requirement of virtual node ! . Because the amount of 
bandwidth requested by virtual node !  is 31 (11+20), 
substrate nodes ' , and â„ satisfy the requirement. In this 
case, the algorithm selects substrate node '  because the 
length of the path between substrate nodes "  and '  is the 
minimum. Hence, virtual node !  is mapped to substrate 
node '. 
The algorithm continues to select virtual node '  because 
it has two neighboring virtual nodes that have been mapped 
to the substrate nodes and T = {" , ' }. The resources of 
substrate nodes ! , # , * and â„  satisfy the requirement of 
virtual node ' . Because the amount of bandwidth requested 
by virtual node '  is 42 (22+20), substrate nodes ! and #
satisfy the requirement. For substrate node !, !(!, ")=1 
and !(!, ')=1. Hence, #!(!, $)=1. For substrate node 
# , !(#, ")=2 and !(#, ')=2. Hence, #!(#, $)=2. 
Hence, the algorithm selects substrate node ! because it has 
the minimum value of #!(!, $). Virtual node '  is mapped 
to substrate node !. The selection and mapping procedures 
of virtual nodes  and &  are the same as for virtual node ' .
Hence, virtual nodes   and &  are mapped to substrate 
nodes * and â„, respectively. 
4.2 Link mapping algorithm  
The proposed link mapping algorithm provides two 
functions: single-path mapping and multiple-path mapping. 
A. The single-path mapping algorithm 
The proposed algorithm uses the cut-shortest path to find 
a feasible path that satisfies the requested bandwidth of a 
virtual link. 
 Step 1: Let -  denote a set of unmapped virtual links. The 
algorithm sorts all unmapped virtual links in - by the 
requested bandwidth (i.e., ()) in descending sequence. 
Step 2: The algorithm processes the first virtual link 
 (, 	) in - with maximum () . Let c
u denote the 
requested bandwidth of virtual link   . That is, cu = ().
Step 3: Assume () = /  and (	) =  3 . The 
algorithm constructs a graph  â€² = (,  â€²)  such that 
 â€² = {| âˆˆ  "! () â‰¥ '4 }. 
Step 4: The algorithm finds a shortest substrate path 

from nodes / through 3  in  â€² such that  (
) â‰¥ '4 . If the 
shortest path 
 exists, then virtual link (, 	) is mapped 
to the shortest path 
 . That is,  () = 
  and 
(, 
) = (). The available bandwidth of each link 
on the 
  is updated in the   ; that is,  =  âˆ’  .
Otherwise, multiple-path mapping is enabled. 
Step 5: The algorithm removes the first virtual link from 
the - and repeats steps 2 through 5 until all virtual links 
have been selected. 
For example, as described in Fig. 1, the algorithm first 
processes virtual link  (", ')  because the requested 
bandwidth of virtual link (", ') is 22. Assume that cu =
22. Obviously, all the substrate links except 
 (", ') ,  (!, *), and  (&, *)  satisfy the request. 
Because the length of substrate path  
  = [" ,! ] is the 
minimum, virtual link  (", ') is mapped to substrate path 

 = [",  !].  
(s(", !)) = 
(s(", !)) âˆ’
 5s(", !)6  = 46  âˆ’ 22 = 24.  The algorithm continues 
to process the next virtual link  (', !) , for which the 
requested bandwidth is 20. Obviously, all substrate links 
except link  (", '),  (!, *), and  (&, *) satisfy the 
request. Because the substrate path 
 = [!, cs]  is the 
shortest path, virtual link  (', !) is mapped to substrate 
path 
 = [!, cs] . (s(!, ')) = (s(!, ')) âˆ’
(s(! , ')) =36 âˆ’ 20=16. The algorithm continues to 
process the next virtual link  (", ) , for which the 
requested bandwidth is 17. Because no feasible substrate path 
satisfies the request, multiple-path mapping is enabled. 
1097
â€² âˆˆ @s . If @  is not found, the algorithm adds ?  back to 
(â€²)  and occupies the additional bandwidth  on 
substrate link â€² . That is, (â€²) = (â€²) âˆª {?s} ,
(â€², ?) =  , (â€²) = (â€²) âˆ’  , and (â€²) =
(â€²) âˆ’  for any â€² âˆˆ ?s.
Step 8. Step 7 is repeated until S is empty or the resultant 
() is larger than or equal to '4 . If S is empty and the 
resultant () is still less than '4 , then the path migration 
algorithm stops and fails. Otherwise, $ = $\{}, and if T is 
not empty, GOTO Step 6. 
Step 9. GOTO Step 4 to add the substrate path 
  to 
(). 
5. The simulation model and results 
5.1 The simulation model  
The network simulator NS-2 is used in this paper. The 
simulated substrate network   with 100 nodes is randomly 
distributed in a rectangular coordinate grid. Each substrate 
node is located at integer coordinates, and has an initial 
capacity that is randomly chosen by a uniform distribution 
from the interval [50 to 100 units]. A substrate link is 
established between any two neighboring substrate nodes 
randomly and at least one substrate link exists between any 
two neighboring substrate nodes. The amount of substrate 
links in the   is 500. The initial bandwidth of each substrate 
link  is randomly chosen by uniform distribution from the 
interval [1 to 20 Mbps].  
We assume that VN requests arrive in a Poisson process 
with an average rate of 5 VN requests per second. The 
duration of each VN request follows an exponential 
distribution with 5 seconds on average. In each VN request, 
the number of virtual nodes is randomly determined by a 
uniform distribution from the interval [2 to 20], following 
similar setups to previous work [5]. Each virtual node has the 
requested resource that is randomly chosen by a uniform 
distribution from the interval [1 to 20 units]. Each pair of 
virtual nodes is randomly connected with probability 0.5,
which means that an ||-node VN has ||(|| âˆ’ 1)/4
links on average, similar to [5]. The bandwidth requested by 
each virtual link is randomly chosen by a uniform 
distribution from the interval [1 to 20 Mbps].  
(a). Mapping efficiency before path migration. 
(b). Mapping efficiency after path migration. 
(c). Mapping saturation before path migration. 
(d). Mapping saturation after path migration. 
Fig. 2. Comparison of mapping efficiency and mapping 
saturation when k is set to 3. 
5.2 Simulation results and discussion   
The simulation results are shown in Fig. 2. k is set to 3.
This simulation considers two performances metrics, namely, 
mapping saturation, and mapping efficiency. We compared 
and evaluated three different approaches: article [5], article 
[6], and the proposed algorithm in Figs 2(a), 2(c). However, 
comparing the proposed algorithm with articles [5] and [6] is 
difficult because they do not provide the same solutions for 
the VN mapping problem. For example, article [6] does not 
handle the path migration problem. Hence, we compared and 
evaluated two different approaches: article [5], and the 
0.25
0.27
0.29
0.31
0.33
0.35
0.37
0.39
0.41
0.43
0.45
0 25 50 75 100 125 150 175 200
M
apping  Efficiency (K
=3)
The number of unmapped VNs
The proposed algorithm
Article [6]
Article [5]
81
62
56
0.25
0.27
0.29
0.31
0.33
0.35
0.37
0.39
0.41
0.43
0.45M
apping  Efficiency (K
=3)
The number of remapped VNs
The proposed algorithm
Article [5]
10
8
0
0.1
0.2
0.3
0.4
0.5
0.6
0.7
0.8
0.9
1
0 25 50 75 100 125 150 175 200
M
apping  Saturation (K
=3)
The  number of unmapped VNs 
The proposed algorithm
Article [6]
Article [5]
81
62
56
0
0.1
0.2
0.3
0.4
0.5
0.6
0.7
0.8
0.9
1M
apping  Saturation (K
=3)
The  number of  remapped VNs 
The proposed algorithm
Article [5]
10
8
1099
åœ‹ç§‘æœƒè£œåŠ©è¨ˆç•«è¡ç”Ÿç ”ç™¼æˆæœæ¨å»£è³‡æ–™è¡¨
æ—¥æœŸ:2012/10/20
åœ‹ç§‘æœƒè£œåŠ©è¨ˆç•«
è¨ˆç•«åç¨±: è™›æ“¬ç¶²è·¯åŠå¯¦é«”ç¶²è·¯æ˜ å°„çš„ç ”ç©¶
è¨ˆç•«ä¸»æŒäºº: å¾æ­¦å­
è¨ˆç•«ç·¨è™Ÿ: 100-2221-E-130-013- å­¸é–€é ˜åŸŸ: è¨ˆç®—æ©Ÿç¶²è·¯èˆ‡ç¶²éš›ç¶²è·¯
ç„¡ç ”ç™¼æˆæœæ¨å»£è³‡æ–™
å…¶ä»–æˆæœ 
(ç„¡æ³•ä»¥ï¥¾åŒ–è¡¨é”ä¹‹æˆ
æœå¦‚è¾¦ï§¤å­¸è¡“æ´»å‹•ã€ç²
å¾—çé …ã€é‡è¦åœ‹éš›åˆ
ä½œã€ç ”ç©¶æˆæœåœ‹éš›å½±éŸ¿
ï¦ŠåŠå…¶ä»–å”åŠ©ç”¢æ¥­æŠ€
è¡“ç™¼å±•ä¹‹å…·é«”æ•ˆï¨—äº‹
é …ç­‰ï¼Œè«‹ä»¥æ–‡å­—æ•˜è¿°å¡«
ï¦œã€‚) 
ç„¡ 
 æˆæœé …ç›® ï¥¾åŒ– åç¨±æˆ–å…§å®¹æ€§è³ªç°¡è¿° 
æ¸¬é©—å·¥å…·(å«è³ªæ€§èˆ‡ï¥¾æ€§) 0  
èª²ç¨‹/æ¨¡çµ„ 0  
é›»è…¦åŠç¶²ï¤·ç³»çµ±æˆ–å·¥å…· 0  
æ•™æ 0  
èˆ‰è¾¦ä¹‹æ´»å‹•/ç«¶è³½ 0  
ç ”è¨æœƒ/å·¥ä½œåŠ 0  
é›»å­å ±ã€ç¶²ç«™ 0  
ç§‘ 
æ•™ 
è™• 
è¨ˆ 
ç•« 
åŠ  
å¡« 
é … 
ç›® è¨ˆç•«æˆæœæ¨å»£ä¹‹ï¥«èˆ‡ï¼ˆé–±è½ï¼‰äººï¥© 0  
 
