 1
å…·æœ‰å³æ™‚ï¨€æ›æ€§èƒ½çš„é«˜ï¨ï¨æ™‚åºç”¢ç”Ÿå™¨æ™¶ç‰‡ä¹‹ç ”è£½(II) 
The Design and Implementation of High-Precision Timing Generator Chip  
with Instantaneous Switching Capability 
è¨ˆç•«ç·¨è™Ÿï¼šNSC 97-2221-E-224 -061 
åŸ·ï¨ˆæœŸé–“ï¼š97 ï¦ 8 æœˆ 1 æ—¥ è‡³ 98 ï¦ 10 æœˆ 31 æ—¥ 
ä¸»  æŒ  äººï¼šé»ƒå´‡ç¦§ åœ‹ï§·é›²ï§´ç§‘æŠ€å¤§å­¸é›»æ©Ÿå·¥ç¨‹ç³»æš¨ç ”ç©¶æ‰€ åŠ©ï§¤æ•™æˆ 
å…±åŒä¸»æŒäººï¼šæ›¹æ’å‰ åœ‹ï§·è‡ºç£å¤§å­¸é›»å­å·¥ç¨‹å­¸ç ”ç©¶æ‰€ æ•™æˆ  
è¨ˆç•«ï¥«èˆ‡äººå“¡ï¼šå¼µå˜‰æ–‡ å¼µç¥æ·³ é™³æ–‡æ­£ ï§¡æ”¿ï§„ é™³ä¿Šå® 
 
ä¸€ã€ ä¸­æ–‡æ‘˜è¦ 
æ™‚åºç”¢ç”Ÿå™¨çš„è¨­è¨ˆç›®çš„ï¼Œåœ¨æ–¼ç”¢ç”Ÿç›¸å°æ™‚
é–“çš„ä¿¡è™Ÿï¼Œä¸»è¦åŸï§¤æ˜¯å°‡è¼¸å…¥ä¿¡è™Ÿç”¢ç”Ÿå»¶é²æˆ–
åˆæˆå¤šçµ„ç›¸ä½ä¿¡è™Ÿå¾Œé¸æ“‡æ§åˆ¶çš„ä¿¡è™Ÿè¼¸å‡ºã€‚æ™‚
åºç”¢ç”Ÿå™¨çš„è§€ï¦£èˆ‡æ‡‰ç”¨å¸¸ï¨Šæ–¼å„ç¨®é›»ï¤·èˆ‡ç³»
çµ±ä¸­ï¼Œå¦‚è‡ªå‹•åŒ–æ¸¬è©¦ç³»çµ±ã€è„ˆæ³¢ç”¢ç”Ÿå™¨ã€å­—æ¨¡
ç”¢ç”Ÿå™¨ã€ï¤“è¼¯åˆ†æå„€ã€æ™¶ç‰‡ä¸­çš„å…§å»ºè‡ªæˆ‘æ¸¬è©¦
ç³»çµ±ã€æ™‚è·ï¥©ä½åŒ–é›»ï¤·ã€æ™‚è„ˆè³‡ï¦¾å›ï¥¦é›»ï¤·ã€
å…¨ï¥©ä½é »ï¥¡åˆæˆå™¨ã€è¶…å¯¬é »ç³»çµ±â€¦ç­‰ã€‚æœ¬è¨ˆåŠƒ
æ—¨åœ¨è¨­è¨ˆé©ç”¨æ–¼ï¥¾æ¸¬å„€å™¨èˆ‡è‡ªå‹•åŒ–æ¸¬è©¦ç³»çµ±
ï§¨ï§æ¯”å‰ç«¯é›»ï¤·ä¸­çš„æ™‚åºç”¢ç”Ÿå™¨é›»ï¤·ï¼Œå¯ä»¥ç¶“
ç”±ç³»çµ±è¨­å®šæä¾›å›ºå®šå»¶é²ï¼Œæˆ–å…·å‚™å³æ™‚ï¨€æ›æ™‚
åºï¼Œä»¥èª¿æ•´è¼¸å‡ºçš„å»¶é²æ™‚é–“ã€‚ 
åœ¨æœ¬ï¦ï¨è¨ˆç•«ä¸­ï¼Œä¸»è¦å°‡é‡å°æ­¤ï¥¾æ¸¬å·¥æ¥­
çš„éœ€æ±‚ï¼Œå°æ™‚åºç”¢ç”Ÿå™¨é›»ï¤·é€²ï¨ˆæ¶æ§‹ç ”ç©¶èˆ‡é›»
ï¤·è¨­è¨ˆã€‚ä¸»è¦é”æˆç›®æ¨™ç‚ºï§ç”¨å¤–éƒ¨è¼¸å…¥çš„å¯è®Š
ï¨ç¢ºï¥«è€ƒæ™‚è„ˆä¾›ä½œç³»çµ±åŒæ­¥æ“ä½œï¼Œä½¿ç”¨å»¶é²é–
å®šè¿´ï¤·ç”¢ç”Ÿçš„å¤šç›¸ä½æ™‚è„ˆä½œç‚ºç©©å®šçš„æ™‚åºï¼Œä¸¦
ä½¿ç”¨ç›¸ä½å…§æ’æŠ€è¡“ï¼Œæœ‰æ•ˆçš„å°‡æ™‚åºç”¢ç”Ÿå™¨çš„æ™‚
é–“è§£æï¨æé«˜è‡³ä¸€å€‹é–˜å»¶é²ä»¥ä¸‹ï¼›ä¸¦è¨­è¨ˆï§ æ–¼
æ§åˆ¶çš„ä»‹é¢é›»ï¤·ï¼Œä»¥é”æˆå³æ™‚ï¨€æ›åŠŸèƒ½ã€‚è—‰ä»¥
å»ºæ§‹ç›¸é—œï¥¾æ¸¬å„€å™¨èˆ‡è‡ªå‹•åŒ–æ¸¬è©¦ç³»çµ±ä¸­ï¼Œï§æ¯”
å‰ç«¯é›»ï¤·ï§¨çš„é—œéµæ€§çµ„ä»¶çš„æ™¶ç‰‡ã€‚ 
é—œéµè©ï¼šæ™‚åºç”¢ç”Ÿå™¨ã€å»¶é²é–å®šè¿´ï¤·ã€è‡ªå‹•åŒ–
æ¸¬è©¦ç³»çµ± 
è‹±æ–‡æ‘˜è¦ 
The purpose of designing the timing 
generator circuit is to generate a relative-timing 
signal.  The main operating principle of the 
timing generator is to delay the input signal or to 
select the desired output from the synthesized 
multi-phase signals.  The concept and 
application of the timing generator is widely 
utilized in many circuits and systems, ex. 
automatic test equipment (ATE), pulse generator, 
pattern generator, logic analyzer, built-in-self- 
test inside a chip, time digitizer, clock and data 
recovery circuit, direct digital frequency 
synthesizer, ultra-wide band systemâ€¦etc.  This 
project is dedicated to design the timing 
generator in the analog front-end circuitry of the 
ATE system.  The delay time of the output 
signal can be adjusted with a fixed-step value or 
instantaneous switching its timing.    
This project is to fulfill the demand of 
instrumentation industry so as to focus on the 
design of the architecture and circuit of the 
timing generator.  The timing generator will 
achieve high resolution less than the intrinsic 
gate delay with the aid of delay-locked loop 
(DLL) and phase interpolation.  The 
instantaneous switching capability is also 
considered via designing the interfacing circuitry 
with the ease of control.  This aim of this 
project is to provide the developing capability of 
key components for the instrumentation industry 
in Taiwan.  
Keywords : timing generator, delay-locked 
loop,  automatic test equipment  
  3
Pump)ã€è¿´ï¤·ï¦„æ³¢å™¨(Loop Filter)ç­‰ã€‚ä½†ç”±æ–¼è¦
ç”¢ç”Ÿæ¬¡é–˜å»¶é²çš„è§£æï¨ï¼Œæ‰€ä»¥æ¡ç”¨çš„å»¶é²å–®å…ƒ
(Delay Cell)æœƒå†å¤–åŠ ï¥©ä½æ§åˆ¶è² è¼‰å»¶é²é›»
ï¤·ï¼Œæ•…å…·æœ‰ï¥¸çµ„ï¤·å¾‘å¯æ§åˆ¶å…¶å»¶é²æ™‚é–“(è©³ï¨Š
ä¸‹ä¸‹å­ç¯€ï¥¯æ˜)ã€‚æ‰€ä»¥æ§åˆ¶è¿´ï¤·åˆ†ç‚ºï¥¸çµ„ï¼šç¬¬
ä¸€çµ„è¿´ï¤·ç‚ºä¸»è¦è¿´ï¤·ï¼Œæ§åˆ¶åŸºæœ¬å»¶é²å–®å…ƒã€‚ç•¶
æ­¤è¿´ï¤·æ“ä½œæ™‚ï¼Œæ‰€æœ‰çš„ï¥©ä½æ§åˆ¶è² è¼‰çš„å»¶é²å‡
è¨­ç‚ºï¦²ã€‚ç•¶ä¸»è¿´ï¤·ç©©å®šå¾Œï¼Œæœƒï§ç”¨å¤šå·¥å™¨(MUX)
å°‡å£“æ§å»¶é²ç·šä¸­å»¶é²å–®å…ƒï¥©æ¸›å°‘ï¼Œä¸¦å•Ÿå‹•ï¥©ä½
æ§åˆ¶è² è¼‰å»¶é²é›»ï¤·ï¤­è£œå„Ÿæ¸›å°‘çš„å»¶é²ï¼Œä¸¦ï§ç”¨
ç¬¬äºŒçµ„æ¬¡è¿´ï¤·ï¤­ç©©å®šï¥©ä½è² è¼‰æ§åˆ¶é›»ï¤·ã€‚ä¿Ÿæ¬¡
è¿´ï¤·ç©©å®šå¾Œï¼Œå³å¯ï§ç”¨ï¥©ä½æ§åˆ¶å­—çµ„ï¼Œå°ç´°ç´š
å»¶é²ç·šä¸­çš„ç¬¬ä¸€çµ„å»¶é²å–®å…ƒï¤­é€²ï¨ˆæ§åˆ¶ï¼Œé€²è€Œ
é”æˆå³æ™‚ï¨€æ›ä¹‹åŠŸèƒ½ã€‚ 
II. ç²—ç´šæ™‚åºç”¢ç”Ÿå™¨ 
ç²—ç´šæ™‚åºç”¢ç”Ÿå™¨ä¸»è¦ç”±ä¸€çµ„å¯ç”¢ç”Ÿå¤šç›¸
ä½è¼¸å‡ºçš„å»¶é²é–å®šè¿´ï¤·çµ„æˆã€‚ç”±ç´°ç´šæ™‚åºè¼¸å‡º
ä¹‹æ™‚è„ˆï¼Œè—‰ä»¥åšç‚ºå£“æ§å»¶é²ç·šä¹‹è¼¸å…¥ã€‚å…¶ä¸­çš„
å»¶é²å–®å…ƒè¨­è¨ˆäº¦åŒæ–¼ä¸‹ç¯€æ‰€ï¥¯æ˜çš„å»¶é²å–®
å…ƒã€‚æƒŸèˆ‡ç´°ç´šä¹‹é–“å·®ï¥¢ï¼Œä¸»è¦åœ¨æ–¼æœ¬ç´šçš„ï¥©ä½
æ§åˆ¶è² è¼‰çš„è¨­å®šå€¼å‡ç‚ºï¦²ï¼Œä¹Ÿå°±æ˜¯å…¶ç²—ç´šè§£æ
ï¨èˆ‡åŸºæœ¬å»¶é²å–®å…ƒçš„é–˜å»¶é²ç›¸åŒã€‚æœ€å¾Œè—‰ç”±é¸
æ“‡å™¨(Selector)ä¹‹è¼¸å…¥(SC0~SC2)å¯ä»¥è¨­å®šæ‰€éœ€
ä¹‹ç²—ç´šç›¸ä½ä¿¡è™Ÿï¼Œäº¦å…·æœ‰å³æ™‚ï¨€æ›åŠŸèƒ½ã€‚ 
III. å»¶é²å–®å…ƒ 
æ¡ç”¨çš„å»¶é²å–®å…ƒå¦‚åœ–å››æ‰€ç¤ºï¼Œä¸»æ¶æ§‹ç‚ºæ¡
ç”¨ é¤“ ï§Š æº æ§ åˆ¶ å»¶ é² å–® å…ƒ (Starving-Current 
Controlled Delay Cell)ï¼Œå†åŠ ä¸Šï¥©ä½æ§åˆ¶è² è¼‰æ‰€
çµ„æˆçš„è™›æ“¬å·®å‹•å»¶é²å–®å…ƒ(Pseudo-Differential 
Delay Cell)ã€‚å¦‚å‰æ‰€è¿°ï¼Œå»¶é²å–®å…ƒä¸­å¯èª¿è®Šå»¶
é²æ™‚é–“å¤§å°å…±æœ‰ï¥¸å€‹ï¤·å¾‘ã€‚ç‚ºå¢åŠ æ“ä½œé »ï¥¡ç¯„
åœï¼Œæ¡ç”¨å¤šé »å¸¶è¨­è¨ˆï¼Œå³åœ¨é¤“ï§Šæºæ§åˆ¶ï¤·å¾‘åŠ 
ä¸Šä¸¦ï¦—é›»æ™¶é«”èˆ‡é–‹é—œ(SW0~SW1)ï¼Œè—‰ä»¥å¢åŠ å»¶
é²ç¯„åœã€‚è€Œï¥©ä½æ§åˆ¶è² è¼‰æ¡ç”¨ï¤…ï¦—é›»é˜»-é›»å®¹
(Shunt Resistor-Capacitor)å‹å¼ã€‚å…¶é–‹é—œ(S0~S3)
è² è²¬æ§åˆ¶äºŒå…ƒæ¬Šé‡(Binary-Weighted)å»¶é²æ™‚é–“
å¤§å°ï¼Œé–‹é—œä¸‹é¢çš„ï¤…ï¦—é›»æ™¶é«”å‰‡è—‰ç”±æ¬¡è¿´ï¤·æ§
åˆ¶é›»å£“(VCTRL)ï¤­æ”¹è®Šå…¶é›»é˜»ç‰¹æ€§ï¼Œè—‰ä»¥æ”¹è®Šè¼¸
å‡ºç«¯é»(Vout)æ‰€çœ‹åˆ°çš„ç­‰æ•ˆæ™‚é–“å»¶é²ï¼Œå¯ä»¥ä½¿å…¶
è§£æï¨å‰›å¥½ç­‰æ•ˆç‚ºåŸºæœ¬é–˜å»¶é²çš„äºŒçš„å†ªæ¬¡æ–¹
ä¹‹ã„§ã€‚ä»¥åœ–å››ç‚ºï¦µï¼Œè§£æï¨å‰‡ç‚ºåï§‘åˆ†ä¹‹ã„§
(1/24)ã€‚ 
ç‚ºé©—è­‰æ­¤é›»ï¤·æ¶æ§‹ä¹‹å¯ï¨ˆæ€§ï¼Œè©²æ™¶ç‰‡é›»ï¤·
æ¡ç”¨ TSMC 0.18Âµm è£½ç¨‹é€²ï¨ˆè¨­è¨ˆï¼Œæ™¶ç‰‡ä½ˆå±€
åœ–å¦‚åœ–äº”æ‰€ç¤ºã€‚ç²—ç´šå£“æ§å»¶é²ç·šå…±æœ‰å…«ç´šï¼Œå¯
ä»¥å°‡è¼¸å…¥ï¥«è€ƒé »ï¥¡åˆ†ç‚ºå…«å€‹ç›¸ä½ï¼›è€Œç´°ç´šå‰‡å¯
å°‡ç²—ç´šé–˜å»¶é²(å³ç²—ç´šè§£æï¨)å†ç´°åŠƒåˆ†å…§æ’å
ï§‘ç´šã€‚å¾Œæ¨¡æ“¬ç³»çµ±æ§åˆ¶é›»å£“è¼¸å‡ºæ³¢å½¢å¦‚åœ–ï§‘æ‰€
ç¤ºï¼Œä¿Ÿç²—ç´šé–å®šå¾Œå†é€²ï¨ˆç´°ç´šæ“ä½œã€‚åœ–ä¸ƒå‰‡ç‚º
åœ¨ï¥«è€ƒé »ï¥¡ 550MHz æ™‚ï¼Œå…± 128 ç´šçš„æ™‚åºè¼¸å‡º
æ³¢å½¢ï¼Œè§£æï¨å¯é” 14.2psã€‚æ™‚é–“æŠ–å‹•å¦‚åœ–å…«æ‰€
ç¤ºï¼Œå¤§å°ç‚º 4.5ps(p-p)ã€‚å…¶ç·šæ€§ï¨æ¨¡æ“¬çµæœå¦‚
åœ–ä¹ï¼šDNL -0.21 ~ +0.78 èˆ‡  INL -0.27 ~ 
+0.43ã€‚æ¨¡æ“¬çµæœç¸½çµæ–¼è¡¨ä¸€ã€‚ 
å››ã€çµï¥èˆ‡è¨ï¥ 
æœ¬ç ”ç©¶è¨ˆç•«æ“¬è—‰ç”±å°è‡ªå‹•æ¸¬è©¦ç³»çµ±ä¹‹æ¶
æ§‹ç ”ç©¶ï¼Œä»¥ç­è§£é«˜é€Ÿä¹‹æ™‚åºç”¢ç”Ÿå™¨è¦æ ¼èˆ‡éœ€
æ±‚ï¼Œä¸¦é‡å°å³æ™‚ï¨€æ›æ€§èƒ½ä¹‹æ¶æ§‹è¨­è¨ˆé€²ï¨ˆå¯ï¨ˆ
æ€§è©•ä¼°ã€‚è—‰ä»¥æå‡ºæ–°å‹çš„æ™‚åºç”¢ç”Ÿå™¨æ¶æ§‹ï¼Œä¸¦
é€²ï¨ˆé›»ï¤·è¨­è¨ˆã€æ¨¡æ“¬èˆ‡é€è£½ã€‚æ‰€æå‡ºçš„æ–°å‹æ™‚
åºç”¢ç”Ÿå™¨é›»ï¤·ï¼Œå…·æœ‰é–‰è¿´ï¤·æ§åˆ¶ç‰¹æ€§ï¼Œå¯ä»¥é¿
å…é–‹è¿´ï¤·ç³»çµ±æ‰€éœ€è¦çš„æ ¡æº–å•é¡Œã€‚é››å‹æ™¶ç‰‡ä½¿
ç”¨ TSMC 0.18Âµm è£½ç¨‹é€²ï¨ˆè¨­è¨ˆèˆ‡é€è£½ï¼Œç³»çµ±
ï¥«è€ƒæ™‚è„ˆ 550MHzï¼Œç²—ç´šæ™‚åºç”¢ç”Ÿå™¨ç”¢ç”Ÿå…«çµ„
å¤šç›¸ä½æ™‚è„ˆï¼Œç´°ç´šå»¶é²é–å®šè¿´ï¤·å…§æ’ç”¢ç”Ÿåï§‘
çµ„å…§æ’ï¼Œå¯ä½¿è§£æï¨é” 14.2psã€‚ 
æœ¬è¨ˆåŠƒçš„æ™‚åºç”¢ç”Ÿå™¨é›»ï¤·ä¹‹ç ”ç©¶çµæœï¼Œä¿Ÿ
é€è£½èˆ‡ï¥¾æ¸¬å®Œæˆå¾Œï¼Œå°‡æŠ•ç¨¿è‡³ç›¸é—œï¦´åŸŸåœ‹éš›æœƒ
è­°èˆ‡æœŸåˆŠã€‚æœªï¤­ä¸¦å°‡æŒçºŒç ”ç©¶ï¼Œä»¥å»ºï§·è‡ªå‹•æ¸¬
è©¦ç³»çµ±çš„ï§æ¯”å‰ç«¯é›»ï¤·æ¨¡çµ„ã€‚ 
äº”ã€ è¨ˆç•«æˆæœè‡ªè©• 
æœ¬è¨ˆåŠƒçš„æ™‚åºç”¢ç”Ÿå™¨é›»ï¤·ç ”ç©¶çµæœï¼Œèˆ‡åŸ
æœ¬è¨ˆç•«ç›®æ¨™ç›¸ç¬¦ï¼Œåˆæ­¥è¦æ ¼è§£æï¨å¯é”åˆ°æ¬¡é–˜
  5
 
(a) è™›æ“¬å·®å‹•å»¶é²å–®å…ƒ 
 
(b) å¤šé »å¸¶é¤“ï§Šæºæ§åˆ¶å»¶é²å–®å…ƒ 
 
(c) ï¥©ä½æ§åˆ¶è² è¼‰ 
åœ–å›› å®Œæ•´å»¶é²å–®å…ƒé›»ï¤· 
 
åœ–äº” æ™¶ç‰‡ä½ˆå±€åœ– 
 
åœ–ï§‘ ç²—ç´šèˆ‡ç´°ç´šæ§åˆ¶é›»å£“è¼¸å‡º 
 
(a)1~48 
 
(b)48~96 
 
(c)96~128 
åœ–ä¸ƒ æ™‚åºç”¢ç”Ÿå™¨è¼¸å‡ºæ³¢å½¢Post-Sim 
 
å‡ºå¸­åœ‹éš›å­¸è¡“æœƒè­°å¿ƒå¾—å ±å‘Š 
                                                             
è¨ˆç•«ç·¨è™Ÿ NSC 97-2221-E-224 -061 
è¨ˆç•«åç¨± å…·æœ‰å³æ™‚ï¨€æ›æ€§èƒ½çš„é«˜ï¨ï¨æ™‚åºç”¢ç”Ÿå™¨æ™¶ç‰‡ä¹‹ç ”è£½(II) 
å‡ºåœ‹äººå“¡å§“å 
æœå‹™æ©Ÿé—œåŠè·ç¨± 
é»ƒå´‡ç¦§ 
åœ‹ï§·é›²ï§´ç§‘æŠ€å¤§å­¸é›»æ©Ÿå·¥ç¨‹ç³»æš¨ç ”ç©¶æ‰€ åŠ©ï§¤æ•™æˆ 
æœƒè­°æ™‚é–“åœ°é» UK, Belfast  2009/9/9 ~ 2009/9/11 
æœƒè­°åç¨± 2009 22nd Annual IEEE International SOC Conference (SOCCâ€™09) 
ç™¼è¡¨ï¥æ–‡é¡Œç›® Dual-Band CDR using a Half-Rate Linear Phase Detector 
 
ä¸€ã€ ï¥«åŠ æœƒè­°ç¶“é 
æ­¤æ¬¡ï¥«èˆ‡ä¹‹æœƒè­°ç‚º 2009 ï¦â€œç³»çµ±æ™¶ç‰‡åœ‹éš›æœƒè­°â€ (System on a Chip Conference, 
SOCCâ€™09)ï¼Œèˆ‰è¾¦åœ°é»åœ¨è‹±åœ‹ï¥£æ„›çˆ¾ï¤Ÿé¦–åºœè²çˆ¾æ³•æ–¯ç‰¹(Belfast, North Ireland, UK)çš„
Wellington Park Hotelï¼Œä¸»è¾¦å–®ç‚ºï¥£æ„›çˆ¾ï¤Ÿæ’åç¬¬ä¸€çš„ Queenâ€™s University Belfastï¼Œäº¦ç‚ºç¾
åœ‹é›»æ©Ÿé›»å­å·¥ç¨‹å­¸æœƒ(Institute of Electrical and Electronics Engineers, IEEE)çš„é›»ï¤·èˆ‡ç³»çµ±
å­¸æœƒ(Circuits and System Society, CAS)è´ŠåŠ©ä¸»è¾¦ã€‚æœƒè­°èˆ‰è¾¦æ™‚é–“è‡ªä¹æœˆä¹æ—¥è‡³åä¸€æ—¥ï¼Œå…±
ä¸‰å¤©æœƒç¨‹åŒ…å«ï¥æ–‡ç™¼è¡¨èˆ‡ Embedded Tutorialèª²ç¨‹ã€‚åœ¨æœƒè­°çš„å‰ä¸€å¤©ï¼Œå³ç”±æ¡ƒåœ’æ©Ÿå ´æ­ä¹˜
åœ‹æ³°èˆªç©ºç­æ©Ÿç¶“é¦™æ¸¯è½‰æ©Ÿé£›æŠµé”è‹±åœ‹ï§”æ•¦å¸Œæ–¯ï¤•åœ‹éš›æ©Ÿå ´(LHT)å¾Œï¼Œå†è½‰æ­ BMI èˆªç©ºå‰
å¾€è²çˆ¾æ³•æ–¯ç‰¹ã€‚è­°ç¨‹ç¬¬ä¸€å¤©(9/9)ä¸Šåˆå¤§æœƒé‚€è«‹åœ‹éš› IC è¨­è¨ˆå¤§å»  Infineon å…¬å¸çš„å‰¯ç¸½
Hermann Eulç™¼è¡¨ä¸»æ—¨æ¼”ï¥¯ï¼Œé¡Œç›®ç‚ºâ€œThe Future of Mobile Broadband Internet â€“ Powered by 
The Semiconductor Industryâ€ã€‚å¦æœ‰ï¥¸å ´å…¨é«”æ¼”ï¥¯åˆ†åˆ¥ç‚º Silicon & Software Systemså…¬å¸
çš„å‰¯ç¸½å…¼æŠ€è¡“é•· James Oâ€™Riordanèˆ‡ï¤­è‡ªå°ç£çš„ IEEE Fellowå°å¤§é›»æ©Ÿç³»çš„é™³ï¥¼åŸºæ•™æˆã€‚
ä¸‹åˆåˆ†åˆ¥æœ‰ï§‘å€‹ Regular Paper Sessionçš„ï¥æ–‡ç™¼è¡¨ï¼Œå…±è¨ˆæœ‰äºŒåäº”ç¯‡ï¥æ–‡ã€‚æ­¤æ¬¡ç™¼è¡¨ï¥æ–‡
å³åœ¨ä¸‹åˆçš„ Session WA2 - PLL and Clocksï¼Œä»¥å£é ­å½¢å¼å ±å‘Šï¥æ–‡â€œDual-Band CDR using a 
Half-Rate Linear Phase Detectorâ€ï¼Œä¸¦èˆ‡èˆ‡æœƒå­¸ç•ŒåŠæ¥­ç•Œå…ˆé€²äº¤æ›å°æ‰€ç™¼è¡¨çš„ï¥æ–‡å…§å®¹çš„æ„
ï¨Šã€‚ 
ç¬¬äºŒå¤©(9/10)å‰‡å…ˆï¥«èˆ‡åœ¨æ—©ä¸Š Embedded Tutorialèª²ç¨‹ï¼Œä¸»è¬›äººç‚ºå¾·åœ‹ Plextek å…¬å¸çš„
Liam M. Devlinï¼Œé¡Œç›®ç‚º â€œMicrowave IC Design for Broadband Receiversâ€ã€‚ä¸Šåˆå…±æœ‰ä¸‰å€‹
Dual-Band CDR using a Half-Rate Linear Phase Detector 
Chorng-Sii Hwang1, Chun-Yung Cho2, Chung-Chun Chen2, Hen-Wai Tsao2* 
1
Department of Electrical Engineering 
National Yunlin University of Sci. and Tech. 
Yunlin County, 64002, Taiwan 
cshwang@yuntech.edu.tw 
 
2
Graduate Institute of Electronics Engineering 
National Taiwan University 
Taipei, 10617, Taiwan 
tsaohw@cc.ee.ntu.edu.tw* 
ABSTRACT 
This paper describes a dual-band clock and 
data recovery circuit using a new half-rate linear 
phase detector. With the proposed sampling 
scheme, the phase detector produces UP/DN 
signals with equal pulsewidth and thus eliminates 
the demand of current scaling in the charge pump. 
The test chip fabricated by CMOS 0.18 Î¼m 1P6M 
process can operate at 2.7 and 1.62 Gbps which 
satisfies the DisplayPort standard. It can recover 
the NRZ data of a (2
7
-1) PRBS with a bit error rate 
less than 10
-12
. The chip core occupies an area of 
0.36 mm
2
. The power consumption is 50 mW at 2.7 
Gbps with a 1.8 V supply voltage. 
 
 I. INTRODUCTION 
The increasing data rates for higher quality 
video and audio display in TVs and PCs raise the 
demand for higher speed in the clock and data 
recovery (CDR) circuit, posing great challenges at 
the levels of device, circuit, and architecture. The 
design of the phase/frequency detector and the 
oscillator dealing with random data sequences is 
becoming more and more difficult due to higher bit 
rates and lower supply voltages. The DisplayPort 
specification[1] is an extensible industry standard 
intended for both external (box-to-box) and internal 
(LCD panel) interfaces consisting of 1, 2, or 4 
lanes. The capabilities of the DisplayPort 
transmitter and receiver will determine whether the 
link rate is set to 2.7 or 1.62 Gbps per lane, which 
is determined by the transmission channel quality. 
There is no separate clock pair inside the channel, 
for the clock information is embedded in the 
transmitted data. The clock is retrieved from the 
data stream itself, which is encoded with the ANSI 
8B/10B coding rule[2]. The DisplayPort 
specification requires that the sink device clock 
recovery PLL have a closed loop bandwidth of no 
less than 20MHz. The reason is that the 8B/10B 
coding rule limits the maximum run length to be no 
more than five successive bits.  
In this paper, a dual-band CDR circuit is 
designed and fabricated. With a newly proposed 
half-rate linear phase detector, the problem of 
unequal width of UP/DN pulses in conventional 
ones[3-4] can be resolved without scaling the 
charging/ discharging currents in the charge pump. 
This makes the design of the charge pump more 
robust to process variation.  
 
 II. CIRCUIT DESCRIPTION 
A.  System Architecture  
The overall system architecture of the 
proposed dual-band clock and data recovery circuit 
is sketched in Fig. 1. It consists of a phase detector 
(PD), a frequency detector (FD), two charge 
pumps (CPs), a dual-band voltage-controlled 
oscillator (VCO), a lock detector (LD) and an on-
chip loop filter. It can accept the input noisy data 
and then generate the retimed data and clocks.  
PD
FD
CP-1
CP-2
Dual-Band
VCO
BS
VCTRL
R2
C2
C1
UP
DN
FDN
DOUT
DIN
FUP
LD
CK
 
Figure 1: System architecture of the dual-band CDR 
In order to alleviate the design constraints of 
power and circuit reliability, the CDR circuit adopts 
a half-rate linear PD which also halves the output 
frequency of the VCO. The PD can also produce 
the retimed data (DOUT) without any extra logic gate. 
When the system starts to function, the FD will 
detect the frequency deviation between the input 
data (DIN) and the VCO clocks. The FD is 
responsible of charging the large capacitor in the 
loop filter to minimize the frequency error. It will 
stop its function without disturbing the loop 
operation when the frequency is close enough. 
	
		
	


Authorized licensed use limited to: NATIONAL YUNLIN UNIV OF TECH. Downloaded on January 30, 2010 at 09:35 from IEEE Xplore.  Restrictions apply. 
sampled by the input data (DIN). The bit period is 
divided into four regions. The results are coped 
with proper logic circuitry to judge whether the 
VCO frequency is fast or slow. The final outputs 
(FUP, FDN) are sent to the second CP and the LD. 
 
Figure 5: Frequency detector 
D. Dual-Band VCO 
The VCO circuitry[7] is drawn in Fig. 6. The 
output frequency of the VCO is half of the input 
data rate. In order to meet the system loop 
bandwidth specification, a four-stage ring-oscillator 
with a band-selection signal (BS) is adopted to 
operate at either high or low bit-rate so as to 
reduce the VCO gain. When BS is activated, the 
VCO will operate at low frequency. 
The cross-coupled pair acts as a negative 
resistor to increase the frequency range and to 
improve the differential operation. To regulate the 
control voltage (VCTRL) can modulate the output 
resistance appeared at the output nodes. 
Therefore, the VCO output frequency also varies. 
 
(a)  
 
(b)  
Figure 6: VCO (a) 4-stage VCO (b) VCO cell  
E. Charge Pump and Loop Filter  
The loop filter consists of a series resistor, a 
series capacitor and a parallel capacitor. According 
to the bandwidth requirement of the DisplayPort 
standard, it can be fully integrated on-chip. 
There are two CPs with different current 
values inside the circuitry. In order to operate at 
the high speed, both CPs can work with the CML 
output swing. The output of the CP dedicated to 
the PD is connected to the output of the loop filer, 
which is the control voltage (VCTRL) of the VCO. As 
mentioned above, both of the charging and 
discharging currents can be designed to be equal 
without scaling. The current of the second CP is 
injected to the large series capacitor directly. It will 
stop its function when in-lock.  
 
 III. IMPLEMENTATION AND MESAUREMENT 
A prototype chip to attain the dual-band CDR 
function with the aid of an improved half-rate linear 
PD is designed and implemented using CMOS 
0.18m 1P6M process. The chip micrography is 
shown in Fig. 7. Its core circuitry occupies 600 x 
600 m2 without I/O pads. Figure 8 shows the high 
and low speed retimed data eyes in response to a 
(2
7
 - 1) pseudo-random bit sequence (PRBS). The 
rms jitter of high/low speed retimed data is 19.1 
and 13.5 ps, respectively. The spectrum plots of 
the recovered half-rate clock for both bit-rates are 
measured in Fig. 9. The proposed CDR can 
operate at both 2.7 and 1.62 Gbps input data rates 
correctly with the measured bit-error rate (BER) 
smaller than 10
-12
. The total power consumed by 
the core circuitry is 50 mW excluding the output 
driving buffer. The comparison table with other 
related reports is shown in Table 1. 
 
Figure 7: Chip micrography 

Authorized licensed use limited to: NATIONAL YUNLIN UNIV OF TECH. Downloaded on January 30, 2010 at 09:35 from IEEE Xplore.  Restrictions apply. 
